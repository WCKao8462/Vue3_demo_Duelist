(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab565"],{"159d":function(e,t,i){"use strict";i.r(t);var n=i("7a23"),c={class:"table mt-4"},a=Object(n["i"])("thead",null,[Object(n["i"])("tr",null,[Object(n["i"])("th",{width:"200"},"建立時間"),Object(n["i"])("th",{width:"150"},"訂單金額"),Object(n["i"])("th",{width:"150"},"是否付款"),Object(n["i"])("td",{width:"200"},"付款時間"),Object(n["i"])("th",{width:"150"},"查看詳細內容")])],-1),d={key:0,class:"text-success"},l={key:1,class:"text-danger"},s={key:0},o={key:1},r={class:"btn-group"},b=Object(n["i"])("button",{class:"btn btn-outline-primary btn-sm"}," 詳細資料 ",-1);function u(e,t,i,u,O,j){var h=Object(n["F"])("loading"),f=Object(n["F"])("delModal");return Object(n["w"])(),Object(n["e"])(n["a"],null,[Object(n["i"])(h,{active:O.isLoading},null,8,["active"]),Object(n["i"])("table",c,[a,Object(n["i"])("tbody",null,[(Object(n["w"])(!0),Object(n["e"])(n["a"],null,Object(n["D"])(O.orders,(function(e){return Object(n["w"])(),Object(n["e"])("tr",{key:e.id},[Object(n["i"])("td",null,Object(n["I"])(j.dateTransform(e.create_at)),1),Object(n["i"])("td",null,Object(n["I"])(e.total),1),Object(n["i"])("td",null,[e.is_paid?(Object(n["w"])(),Object(n["e"])("span",d,"付款完成")):(Object(n["w"])(),Object(n["e"])("span",l,"尚未付款"))]),Object(n["i"])("td",null,[e.paid_date?(Object(n["w"])(),Object(n["e"])("span",s,Object(n["I"])(j.dateTransform(e.paid_date)),1)):(Object(n["w"])(),Object(n["e"])("span",o))]),Object(n["i"])("td",null,[Object(n["i"])("div",r,[b,Object(n["i"])("button",{class:"btn btn-outline-danger btn-sm",onClick:function(t){return j.delModal(e.id)}}," 刪除訂單 ",8,["onClick"])])])])})),128))])]),Object(n["i"])(f,{ref:"delModal",onDeleteItem:j.deleteOrder},null,8,["onDeleteItem"])],64)}i("99af");var O=i("6ff1"),j={data:function(){return{orders:{},isLoading:!1,isDelete:!1,deletedID:""}},components:{delModal:O["a"]},methods:{getOrders:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sly8462","/admin/orders");this.isLoading=!0,this.$http.get(t).then((function(t){t.data.success&&(console.log(t),e.orders=t.data.orders,e.isLoading=!1)}))},dateTransform:function(e){var t=new Date(1e3*e).toLocaleString();return t},delModal:function(e){this.deletedID=e;var t=this.$refs.delModal;t.showModal()},deleteOrder:function(e){var t=this;this.isDelete=e;var i=this.$refs.delModal;if(this.isLoading=!0,this.isDelete){var n="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sly8462","/admin/order/").concat(this.deletedID);this.$http.delete(n).then((function(e){console.log(e),i.hideModal(),t.isDelete=!1,t.deletedID="",t.getOrders(),alert("刪除成功")}))}}},created:function(){this.getOrders()}};j.render=u;t["default"]=j}}]);
//# sourceMappingURL=chunk-2d0ab565.829746a0.js.map