(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25d24f78"],{"0d5f":function(t,e,a){"use strict";a.r(e);var i=a("7a23"),c=Object(i["T"])("data-v-08b08a56");Object(i["z"])("data-v-08b08a56");var n={class:"container"},d={class:"table mt-4 text-white m-auto mb-5 text-center",style:{"min-width":"800px"}},s=Object(i["i"])("thead",null,[Object(i["i"])("tr",{class:"fs-5 text-info py-4"},[Object(i["i"])("th",{width:"200",class:"py-4"},"訂單ID"),Object(i["i"])("th",{width:"200",class:"py-4"},"建立時間"),Object(i["i"])("th",{width:"100",class:"py-4"},"訂單金額"),Object(i["i"])("th",{width:"100",class:"py-4"},"是否付款"),Object(i["i"])("td",{width:"200",class:"py-4"},"付款時間"),Object(i["i"])("th",{width:"200",class:"py-4"},"查看詳細內容")])],-1),l={class:"py-3"},o={class:"py-3"},r={class:"py-3"},b={class:"py-3"},O={key:0,class:"text-success"},j={key:1,class:"text-danger"},u={class:"py-3"},p={key:0},h={key:1},m={class:"py-3"},f={class:"btn-group"};Object(i["x"])();var g=c((function(t,e,a,c,g,w){var y=Object(i["F"])("loadingCustom"),x=Object(i["F"])("pagination"),v=Object(i["F"])("orderModal"),M=Object(i["F"])("delModal");return Object(i["w"])(),Object(i["e"])(i["a"],null,[Object(i["i"])(y,{tempIsLoading:w.isLoading},null,8,["tempIsLoading"]),Object(i["i"])("div",n,[Object(i["i"])("table",d,[s,Object(i["i"])("tbody",null,[(Object(i["w"])(!0),Object(i["e"])(i["a"],null,Object(i["D"])(w.ordersAdmin,(function(t){return Object(i["w"])(),Object(i["e"])("tr",{key:t.id},[Object(i["i"])("td",l,Object(i["I"])(t.id),1),Object(i["i"])("td",o,Object(i["I"])(w.dateTransform(t.create_at)),1),Object(i["i"])("td",r,Object(i["I"])(t.total),1),Object(i["i"])("td",b,[t.is_paid?(Object(i["w"])(),Object(i["e"])("span",O,"付款完成")):(Object(i["w"])(),Object(i["e"])("span",j,"尚未付款"))]),Object(i["i"])("td",u,[t.paid_date?(Object(i["w"])(),Object(i["e"])("span",p,Object(i["I"])(w.dateTransform(t.paid_date)),1)):(Object(i["w"])(),Object(i["e"])("span",h))]),Object(i["i"])("td",m,[Object(i["i"])("div",f,[Object(i["i"])("button",{class:"btn btn-outline-primary btn-md mx-2",onClick:function(e){return w.openModal(t)}}," 詳細資料 ",8,["onClick"]),Object(i["i"])("button",{class:"btn btn-outline-danger btn-md mx-2",onClick:function(e){return w.delModal(t.id)}}," 刪除訂單 ",8,["onClick"])])])])})),128))])]),Object(i["i"])(x,{pages:w.pagination,onEmitPages:w.getOrders},null,8,["pages","onEmitPages"])]),Object(i["i"])(v,{ref:"orderModal",order:g.tempOrder},null,8,["order"]),Object(i["i"])(M,{ref:"delModal",onDeleteItem:w.deleteOrder},null,8,["onDeleteItem"])],64)})),w=a("5530"),y=(a("99af"),a("5c0d")),x={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},v={class:"modal-dialog modal-md",role:"document"},M={class:"modal-content border-0"},I=Object(i["i"])("div",{class:"modal-header bg-dark text-white"},[Object(i["i"])("h5",{class:"modal-title",id:"exampleModalLabel"},[Object(i["i"])("span",null,"訂單資料")]),Object(i["i"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),k={class:"table text-center mt-5"},D=Object(i["i"])("thead",{class:"mb-4 p-2 fs-4"},[Object(i["i"])("th",{class:"text-info p-2"},"品名"),Object(i["i"])("th",{class:"text-info p-2"},"數量"),Object(i["i"])("th",{class:"text-info p-2"},"單價")],-1),L=Object(i["i"])("br",null,null,-1),$=Object(i["i"])("td",{colspan:"2",class:"text-center text-warning h4 p-2"},"總計",-1),C={class:"text-center text-warning h4 p-2"};function _(t,e,a,c,n,d){return Object(i["w"])(),Object(i["e"])("div",x,[Object(i["i"])("div",v,[Object(i["i"])("div",M,[I,Object(i["i"])("table",k,[D,Object(i["i"])("tbody",null,[(Object(i["w"])(!0),Object(i["e"])(i["a"],null,Object(i["D"])(a.order.products,(function(t){return Object(i["w"])(),Object(i["e"])("tr",{key:t.id},[Object(i["i"])("td",null,Object(i["I"])(t.product.title),1),Object(i["i"])("td",null,Object(i["I"])(t.qty),1),Object(i["i"])("td",null,Object(i["I"])(t.final_total),1)])})),128))]),L,Object(i["i"])("tfoot",null,[Object(i["i"])("tr",null,[$,Object(i["i"])("td",C,Object(i["I"])(a.order.total),1)])])])])])],512)}var A=a("db44"),F={data:function(){return{modal:{}}},props:{order:{type:Object,default:function(){return{}}}},mixins:[A["a"]]};F.render=_;var T=F,E=a("590b"),J=a("1799"),P={data:function(){return{isDelete:!1,deletedID:"",tempOrder:{}}},components:{loadingCustom:y["a"],orderModal:T,delModal:E["a"],pagination:J["a"]},inject:["emitter"],computed:{isLoading:function(){return this.$store.state.isLoading},ordersAdmin:function(){return this.$store.state.ordersAdmin},pagination:function(){return this.$store.state.pagination}},methods:{getOrders:function(t){this.$store.dispatch("getOrdersAdmin",t)},dateTransform:function(t){var e=new Date(1e3*t).toLocaleString();return e},openModal:function(t){this.tempOrder=Object(w["a"])({},t);var e=this.$refs.orderModal;e.showModal()},delModal:function(t){this.deletedID=t;var e=this.$refs.delModal;e.showModal()},deleteOrder:function(t){var e=this;this.isDelete=t,this.$store.dispatch("updateLoading",!0);var a=this.$refs.delModal;if(this.isDelete){var i="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sly8462","/admin/order/").concat(this.deletedID);this.$http.delete(i).then((function(t){a.hideModal(),e.isDelete=!1,e.deletedID="",e.getOrders(),e.emitter.emit("push-message",{style:"success",title:"刪除成功"})}))}this.$store.dispatch("updateLoading",!1)}},created:function(){this.getOrders()}};a("35f4");P.render=g,P.__scopeId="data-v-08b08a56";e["default"]=P},"35f4":function(t,e,a){"use strict";a("7fbc")},"7fbc":function(t,e,a){}}]);
//# sourceMappingURL=chunk-25d24f78.45c3f51d.js.map