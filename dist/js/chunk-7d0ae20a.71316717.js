(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d0ae20a"],{"14c3":function(t,e,c){var a=c("c6b6"),n=c("9263");t.exports=function(t,e){var c=t.exec;if("function"===typeof c){var r=c.call(t,e);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"21c5":function(t,e,c){"use strict";var a=c("7a23"),n=Object(a["T"])("data-v-0e1cddd6");Object(a["z"])("data-v-0e1cddd6");var r={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal","data-bs-backdrop":"static"},i={class:"modal-dialog mt-5"},o={class:"modal-content"},s=Object(a["i"])("div",{class:"modal-header text-white"},[Object(a["i"])("h5",{class:"modal-title",id:"exampleModalLabel"},"牌組內容"),Object(a["i"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),l={class:"py-3 w-100 px-5"},d={class:"table text-white"},u=Object(a["i"])("thead",{class:"row"},[Object(a["i"])("th",{class:"col-2"}),Object(a["i"])("th",{class:"text-center fw-bold col-4"},"卡名"),Object(a["i"])("th",{class:"text-center fw-bold col-3"},"數量"),Object(a["i"])("th",{class:"text-center fw-bold col-3"},"單價")],-1),b=Object(a["i"])("br",null,null,-1),f={class:"align-middle col-2"},p=Object(a["i"])("i",{class:"bi bi-trash-fill"},null,-1),O={class:"text-center col-4"},j={class:"text-center col-3"},h={class:"text-center col-3"},v=Object(a["i"])("br",null,null,-1),g={class:"text-white"},m={class:"text-end"},x=Object(a["h"])("共 "),y={class:"fw-bolder"},C=Object(a["h"])(" 元"),w=Object(a["i"])("br",null,null,-1),I={class:"d-grid"};Object(a["x"])();var E=n((function(t,e,c,n,E,k){var $=Object(a["F"])("loadingCustom");return Object(a["w"])(),Object(a["e"])(a["a"],null,[Object(a["i"])($,{tempIsLoading:k.isLoading},null,8,["tempIsLoading"]),Object(a["i"])("div",r,[Object(a["i"])("div",i,[Object(a["i"])("div",o,[s,Object(a["i"])("div",l,[Object(a["i"])("table",d,[u,b,Object(a["i"])("tbody",null,[(Object(a["w"])(!0),Object(a["e"])(a["a"],null,Object(a["D"])(k.cart.carts,(function(t){return Object(a["w"])(),Object(a["e"])("tr",{key:t.id,class:"row"},[Object(a["i"])("td",f,[Object(a["i"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return k.removeCart(t.id)}},[p],8,["onClick"])]),Object(a["i"])("td",O,Object(a["I"])(t.product.title),1),Object(a["i"])("td",j,Object(a["I"])(t.qty),1),Object(a["i"])("td",h,Object(a["I"])(t.total)+" 元",1)])})),128))])]),v,Object(a["i"])("div",g,[Object(a["i"])("p",m,[x,Object(a["i"])("span",y,Object(a["I"])(k.cart.total),1),C])]),w,Object(a["i"])("div",I,[Object(a["i"])("button",{class:"btn btn-outline-warning","data-bs-dismiss":"modal",onClick:e[1]||(e[1]=function(){return k.toOrder&&k.toOrder.apply(k,arguments)})},"結帳")])])])])],512)],64)})),k=c("db44"),$=c("5c0d"),R={mixins:[k["a"]],components:{loadingCustom:$["a"]},computed:{isLoading:function(){return this.$store.state.isLoading},cart:function(){return this.$store.state.cart}},methods:{removeCart:function(t){this.$store.dispatch("removeCart",t)},toOrder:function(){this.$router.push("/order")}},created:function(){console.log(this.cart)}};c("ef74");R.render=E,R.__scopeId="data-v-0e1cddd6";e["a"]=R},2532:function(t,e,c){"use strict";var a=c("23e7"),n=c("5a34"),r=c("1d80"),i=c("ab13");a({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~String(r(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"2c5c":function(t,e,c){"use strict";c("61da")},"44e7":function(t,e,c){var a=c("861d"),n=c("c6b6"),r=c("b622"),i=r("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==n(t))}},"466d":function(t,e,c){"use strict";var a=c("d784"),n=c("825a"),r=c("50c4"),i=c("1d80"),o=c("8aa5"),s=c("14c3");a("match",1,(function(t,e,c){return[function(e){var c=i(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,c):new RegExp(e)[t](String(c))},function(t){var a=c(e,t,this);if(a.done)return a.value;var i=n(t),l=String(this);if(!i.global)return s(i,l);var d=i.unicode;i.lastIndex=0;var u,b=[],f=0;while(null!==(u=s(i,l))){var p=String(u[0]);b[f]=p,""===p&&(i.lastIndex=o(l,r(i.lastIndex),d)),f++}return 0===f?null:b}]}))},"4de4":function(t,e,c){"use strict";var a=c("23e7"),n=c("b727").filter,r=c("1dde"),i=r("filter");a({target:"Array",proto:!0,forced:!i},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,c){var a=c("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5c0d":function(t,e,c){"use strict";var a=c("7a23"),n=Object(a["T"])("data-v-0577946f");Object(a["z"])("data-v-0577946f");var r=Object(a["i"])("div",{class:"circle"},null,-1),i=Object(a["i"])("p",{class:"loading fw-bolder text-white fs-3"},"LOADING",-1);Object(a["x"])();var o=n((function(t,e,c,o,s,l){var d=Object(a["F"])("loading");return Object(a["w"])(),Object(a["e"])(d,{active:c.tempIsLoading,class:"text-center loading"},{default:n((function(){return[r,i]})),_:1},8,["active"])})),s={props:{tempIsLoading:{type:Boolean,default:function(){return!1}}}};c("a0b5");s.render=o,s.__scopeId="data-v-0577946f";e["a"]=s},"5cbf":function(t,e,c){},"61da":function(t,e,c){},"8aa5":function(t,e,c){"use strict";var a=c("6547").charAt;t.exports=function(t,e,c){return e+(c?a(t,e).length:1)}},9263:function(t,e,c){"use strict";var a=c("ad6d"),n=c("9f7f"),r=c("5692"),i=RegExp.prototype.exec,o=r("native-string-replace",String.prototype.replace),s=i,l=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),d=n.UNSUPPORTED_Y||n.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],b=l||u||d;b&&(s=function(t){var e,c,n,r,s=this,b=d&&s.sticky,f=a.call(s),p=s.source,O=0,j=t;return b&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),j=String(t).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==t[s.lastIndex-1])&&(p="(?: "+p+")",j=" "+j,O++),c=new RegExp("^(?:"+p+")",f)),u&&(c=new RegExp("^"+p+"$(?!\\s)",f)),l&&(e=s.lastIndex),n=i.call(b?c:s,j),b?n?(n.input=n.input.slice(O),n[0]=n[0].slice(O),n.index=s.lastIndex,s.lastIndex+=n[0].length):s.lastIndex=0:l&&n&&(s.lastIndex=s.global?n.index+n[0].length:e),u&&n&&n.length>1&&o.call(n[0],c,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(n[r]=void 0)})),n}),t.exports=s},"9f7f":function(t,e,c){"use strict";var a=c("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a0b5:function(t,e,c){"use strict";c("c1da")},ab13:function(t,e,c){var a=c("b622"),n=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(c){try{return e[n]=!1,"/./"[t](e)}catch(a){}}return!1}},ac1f:function(t,e,c){"use strict";var a=c("23e7"),n=c("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(t,e,c){"use strict";var a=c("825a");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b727:function(t,e,c){var a=c("0366"),n=c("44ad"),r=c("7b0b"),i=c("50c4"),o=c("65f0"),s=[].push,l=function(t){var e=1==t,c=2==t,l=3==t,d=4==t,u=6==t,b=7==t,f=5==t||u;return function(p,O,j,h){for(var v,g,m=r(p),x=n(m),y=a(O,j,3),C=i(x.length),w=0,I=h||o,E=e?I(p,C):c||b?I(p,0):void 0;C>w;w++)if((f||w in x)&&(v=x[w],g=y(v,w,m),t))if(e)E[w]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:s.call(E,v)}else switch(t){case 4:return!1;case 7:s.call(E,v)}return u?-1:l||d?d:E}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},c1da:function(t,e,c){},caad:function(t,e,c){"use strict";var a=c("23e7"),n=c("4d64").includes,r=c("44d2");a({target:"Array",proto:!0},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},d784:function(t,e,c){"use strict";c("ac1f");var a=c("6eeb"),n=c("9263"),r=c("d039"),i=c("b622"),o=c("9112"),s=i("species"),l=RegExp.prototype,d=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),b=i("replace"),f=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),p=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var c="ab".split(t);return 2!==c.length||"a"!==c[0]||"b"!==c[1]}));t.exports=function(t,e,c,b){var O=i(t),j=!r((function(){var e={};return e[O]=function(){return 7},7!=""[t](e)})),h=j&&!r((function(){var e=!1,c=/a/;return"split"===t&&(c={},c.constructor={},c.constructor[s]=function(){return c},c.flags="",c[O]=/./[O]),c.exec=function(){return e=!0,null},c[O](""),!e}));if(!j||!h||"replace"===t&&(!d||!u||f)||"split"===t&&!p){var v=/./[O],g=c(O,""[t],(function(t,e,c,a,r){var i=e.exec;return i===n||i===l.exec?j&&!r?{done:!0,value:v.call(e,c,a)}:{done:!0,value:t.call(c,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),m=g[0],x=g[1];a(String.prototype,t,m),a(l,O,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}b&&o(l[O],"sham",!0)}},d9cc:function(t,e,c){"use strict";c.r(e);c("caad"),c("2532");var a=c("7a23"),n=Object(a["T"])("data-v-a9ae87f4");Object(a["z"])("data-v-a9ae87f4");var r={class:"d-flex justify-content-end box",style:{position:"fixed",right:"20px",bottom:"20px","z-index":"2"}},i={class:"badge rounded-pill bg-primary"},o={class:"fs-5"},s=Object(a["i"])("div",{class:"banner"},null,-1),l={class:"container"},d={class:"row"},u={class:"col-md-3 pt-3 mb-3"},b={class:"btn-group-vertical w-100 sticky-md-top",role:"group","aria-label":"Basic radio toggle button group"},f=Object(a["i"])("label",{class:"btn my-2 allCard",for:"allCard"},[Object(a["h"])(" 全部"),Object(a["i"])("br"),Object(a["h"])(" All ")],-1),p=Object(a["i"])("label",{class:"btn my-2 monsterCard",for:"monsterCard"},[Object(a["h"])(" 怪獸卡"),Object(a["i"])("br"),Object(a["h"])(" Monster Card ")],-1),O=Object(a["i"])("label",{class:"btn spellCard my-2",for:"spellCard"},[Object(a["h"])(" 魔法卡"),Object(a["i"])("br"),Object(a["h"])(" Spell Card ")],-1),j=Object(a["i"])("label",{class:"btn trapCard my-2",for:"trapCard"},[Object(a["h"])(" 陷阱卡"),Object(a["i"])("br"),Object(a["h"])(" Trap Card ")],-1),h={class:"col-md-9 pt-3  m-auto"},v={class:"text-white text-center"},g={class:"row"},m={class:"card h-100 animated"},x={class:"card-body"},y={class:"cardTitle py-2 h4 text-center"},C={class:"d-flex justify-content-between align-items-baseline py-2 px-3"},w={class:"h6"},I={class:"h5 fw-bolder"},E={key:0,class:"spinner-grow spinner-grow-sm text-danger",role:"status"},k=Object(a["i"])("span",{class:"visually-hidden"},"Loading...",-1),$=Object(a["i"])("i",{class:"fas fa-spinner fa-spin"},null,-1),R=Object(a["i"])("i",{class:"bi bi-file-plus-fill fs-4"},null,-1),T=Object(a["h"])(" 加入牌組 ");Object(a["x"])();var _=n((function(t,e,c,n,_,S){var L=Object(a["F"])("cartModal");return Object(a["w"])(),Object(a["e"])(a["a"],null,[Object(a["i"])("div",r,[Object(a["i"])("button",{class:"btn deck",onClick:e[1]||(e[1]=function(t){return S.openModal()})},[Object(a["i"])("span",i,[Object(a["i"])("div",o,Object(a["I"])(S.cartNum),1)])])]),Object(a["i"])(L,{ref:"cartModal"},null,512),s,Object(a["i"])("div",l,[Object(a["i"])("div",d,[Object(a["i"])("div",u,[Object(a["i"])("div",b,[Object(a["i"])("input",{type:"radio",class:"btn-check",name:"btnradio",id:"allCard",autocomplete:"off",checked:"",onClick:e[2]||(e[2]=function(t){return S.setCard("","全部")})}),f,Object(a["i"])("input",{type:"radio",class:"btn-check",name:"btnradio",id:"monsterCard",autocomplete:"off",onClick:e[3]||(e[3]=function(t){return S.setCard("怪獸","怪獸卡")})}),p,Object(a["i"])("input",{type:"radio",class:"btn-check",name:"btnradio",id:"spellCard",autocomplete:"off",onClick:e[4]||(e[4]=function(t){return S.setCard("魔法","魔法卡")})}),O,Object(a["i"])("input",{type:"radio",class:"btn-check",name:"btnradio",id:"trapCard",autocomplete:"off",onClick:e[5]||(e[5]=function(t){return S.setCard("陷阱","陷阱卡")})}),j])]),Object(a["i"])("div",h,[Object(a["i"])("h2",v,Object(a["I"])(_.typeName),1),Object(a["i"])("div",g,[(Object(a["w"])(!0),Object(a["e"])(a["a"],null,Object(a["D"])(S.filterSearch,(function(t){return Object(a["w"])(),Object(a["e"])("div",{class:"col-lg-4 col-md-6 p-3",key:t.id},[Object(a["i"])("div",m,[Object(a["i"])("button",{class:"cardImg",style:{backgroundImage:"url(".concat(t.imageUrl,")")},onClick:function(e){return S.toProductDetail(t.id)}},null,12,["onClick"]),Object(a["i"])("div",x,[Object(a["i"])("div",y,Object(a["I"])(t.title),1),Object(a["i"])("div",{class:["cardCategory py-1 h6 rounded-pill",{monster:_.cardType.monsterCard.includes(t.category),spell:_.cardType.spellCard.includes(t.category),trap:_.cardType.trapCard.includes(t.category)}]},Object(a["I"])(t.category),3),Object(a["i"])("div",C,[Object(a["i"])("del",w,"$ "+Object(a["I"])(t.origin_price),1),Object(a["i"])("div",I,"$ "+Object(a["I"])(t.price),1)]),Object(a["i"])("button",{type:"button",class:"btn btn-outline-warning btn-md ml-auto w-100 border border-2 border-warning",onClick:function(e){return S.addCart(t.id)},disabled:_.status.loadingItem===t.id},[_.status.loadingItem===t.id?(Object(a["w"])(),Object(a["e"])("div",E,[k])):Object(a["f"])("",!0),$,R,T],8,["onClick","disabled"])])])])})),128))])])])])],64)})),S=(c("99af"),c("4de4"),c("ac1f"),c("466d"),c("21c5")),L={data:function(){return{pagination:{},status:{loadingItem:""},cardName:"",typeName:"全部",cardType:{monsterCard:["通常怪獸","效果怪獸","融合怪獸"],spellCard:["通常魔法","速攻魔法"],trapCard:["通常陷阱","反擊陷阱"]}}},components:{cartModal:S["a"]},inject:["emitter"],methods:{getProducts:function(){this.$store.dispatch("getProducts")},toProductDetail:function(t){this.$router.push("/product/".concat(t))},addCart:function(t){var e=this;this.status.loadingItem=t;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sly8462","/cart"),a={product_id:t,qty:1};this.$http.post(c,{data:a}).then((function(t){t.data.success&&(console.log("新增成功"),e.status.loadingItem="",e.emitter.emit("push-message",{style:"secondary",title:"已將卡片加入牌組"}),e.$store.dispatch("getCart"))}))},setCard:function(t,e){this.typeName=e,this.cardName=t},openModal:function(){var t=this.$refs.cartModal;t.showModal()}},openModal:function(){var t=this.$refs.cartModal;t.showModal()},computed:{filterSearch:function(){var t=this;return this.products.filter((function(e){return e.category.match(t.cardName)}))},isLoading:function(){return this.$store.state.isLoading},products:function(){return this.$store.state.products},cartNum:function(){return void 0===this.$store.state.cart.carts?0:this.$store.state.cart.carts.length}},created:function(){this.getProducts()}};c("2c5c");L.render=_,L.__scopeId="data-v-a9ae87f4";e["default"]=L},ef74:function(t,e,c){"use strict";c("5cbf")}}]);
//# sourceMappingURL=chunk-7d0ae20a.71316717.js.map