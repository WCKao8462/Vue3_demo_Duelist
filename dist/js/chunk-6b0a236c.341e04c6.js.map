{"version":3,"sources":["webpack:///./src/components/front/LoadingCustom.vue","webpack:///./src/components/front/LoadingCustom.vue?e3a3","webpack:///./src/views/front/UserCheckout.vue?0f7c","webpack:///./src/components/front/LoadingCustom.vue?5ab1","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/front/UserCheckout.vue","webpack:///./src/views/front/UserCheckout.vue?9100"],"names":["class","active","tempIsLoading","props","type","Boolean","default","render","__scopeId","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","role","colspan","isLoading","order","is_paid","payOrder","products","item","key","id","product","title","qty","final_total","total","user","email","name","tel","address","message","data","orderId","components","loadingCustom","methods","getOrder","url","$http","then","res","success","console","log","post","$store","dispatch","created","$route","params"],"mappings":"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","file":"js/chunk-6b0a236c.341e04c6.js","sourcesContent":["<template>\r\n  <loading :active=\"tempIsLoading\" class=\"text-center loading\">\r\n    <div class=\"circle\"></div>\r\n    <p class=\"loading fw-bolder text-white fs-3\">LOADING</p>\r\n  </loading>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    tempIsLoading: {\r\n      type: Boolean,\r\n      default () { return false }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.circle {\r\n  width: 200px;\r\n  height: 200px;\r\n  background-image: url(\"../../assets/pic/circle.png\");\r\n  background-size: cover;\r\n  animation-name: runcircle;\r\n  animation-duration: 5s;\r\n  animation-iteration-count: infinite;\r\n  animation-timing-function: linear;\r\n}\r\n@keyframes runcircle {\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./LoadingCustom.vue?vue&type=template&id=0577946f&scoped=true\"\nimport script from \"./LoadingCustom.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingCustom.vue?vue&type=script&lang=js\"\n\nimport \"./LoadingCustom.vue?vue&type=style&index=0&id=0577946f&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-0577946f\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UserCheckout.vue?vue&type=style&index=0&id=07a4e92e&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./LoadingCustom.vue?vue&type=style&index=0&id=0577946f&scoped=true&lang=css\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\r\n  <loadingCustom :tempIsLoading=\"isLoading\"></loadingCustom>\r\n  <div class=\"container-fluid my-5\">\r\n    <div class=\"row text-center\">\r\n      <div class=\"col-sm col-12\">\r\n        <div class=\"alert alert-primary alert-rounded\" role=\"alert\">\r\n          1.填寫資料\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm col-12\">\r\n        <div class=\"alert alert-rounded\" role=\"alert\" :class=\"{'alert-success':!order.is_paid, 'alert-primary': order.is_paid}\">\r\n          2.付款\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm col-12\">\r\n        <div class=\"alert alert-rounded\" role=\"alert\" :class=\"{'alert-primary':!order.is_paid, 'alert-success': order.is_paid}\">\r\n          3.完成訂單\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <br>\r\n    <div class=\"display-4 text-center text-warning pt-5\" v-if=\"order.is_paid\">謝謝惠顧</div>\r\n      <form class=\"px-2\" @submit.prevent=\"payOrder\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6\">\r\n            <div class=\"buyer p-3 my-3\">\r\n              <h3 class=\"text-center text-white\">商品明細</h3>\r\n              <br>\r\n              <table class=\"table text-white text-center\">\r\n                <thead class=\"mb-4 p-2\">\r\n                  <th class=\"text-info p-2\">品名</th>\r\n                  <th class=\"text-info p-2\">數量</th>\r\n                  <th class=\"text-info p-2\">單價</th>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"item in order.products\" :key=\"item.id\">\r\n                    <td>{{ item.product.title}}</td>\r\n                    <td>{{ item.qty}} / 張</td>\r\n                    <td>{{ item.final_total}}</td>\r\n                  </tr>\r\n                </tbody>\r\n                <br>\r\n                <tfoot>\r\n                  <tr>\r\n                    <td colspan=\"2\" class=\"text-center text-warning h4 p-2\">總計</td>\r\n                    <td class=\"text-center text-warning h4 p-2\">{{order.total}}</td>\r\n                  </tr>\r\n                </tfoot>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-6\">\r\n            <div class=\"buyer p-3 my-3\">\r\n              <h3 class=\"text-center text-white\">聯絡人資料</h3>\r\n              <br>\r\n              <table class=\"table text-white w-100 text-break\">\r\n                <tr class=\"py-3 w-100 row g-0 border-bottom border-white\">\r\n                  <th class=\"text-info col-sm-4 p-1\">Email:</th>\r\n                  <td class=\"col-sm-8 p-1 text-wrap\"> {{order.user.email}}</td>\r\n                </tr>\r\n                <tr class=\"py-3 w-100 row g-0 border-bottom border-white\">\r\n                  <th class=\"text-info col-sm-4 p-1\">姓名:</th>\r\n                  <td class=\"col-sm-8 p-1\">{{order.user.name}}</td>\r\n                </tr>\r\n                <tr class=\"py-3 w-100 row g-0 border-bottom border-white\">\r\n                  <th class=\"text-info col-sm-4 p-1\">收件人電話:</th>\r\n                  <td class=\"col-sm-8 p-1\">{{order.user.tel}}</td>\r\n                </tr>\r\n                <tr class=\"py-3 w-100 row g-0 border-bottom border-white\">\r\n                  <th class=\"text-info col-sm-4 p-1\">收件人地址:</th>\r\n                  <td class=\"col-sm-8 p-1\">{{order.user.address}}</td>\r\n                </tr>\r\n                <tr class=\"py-3 w-100 row g-0 border-bottom border-white\">\r\n                  <th class=\"text-info col-sm-4 p-1\">備註:</th>\r\n                  <td class=\"col-sm-8 p-1\">{{order.message}}</td>\r\n                </tr>\r\n                <tr class=\"py-3 w-100 row g-0 border-bottom border-white\">\r\n                  <th class=\"text-info col-sm-4 p-1\">付款狀態:</th>\r\n                  <td class=\"col-sm-8 p-1\">\r\n                    <span v-if=\"!order.is_paid\">尚未付款</span>\r\n                    <span class=\"text-success\" v-else>付款完成</span>\r\n                  </td>\r\n                </tr>\r\n                <br />\r\n                <tr class=\"py-3 w-100 row g-0 border-bottom border-white\" v-if=\"order.is_paid\">\r\n                  <th class=\"text-info col-sm-4 p-1\">訂單編號:</th>\r\n                  <td class=\"col-sm-8 p-1\">{{order.id}}</td>\r\n                </tr>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"text-center mt-3\" v-if=\"order.is_paid === false\">\r\n          <button class=\"btn btn-danger btn-lg\">確認付款去</button>\r\n        </div>\r\n      </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport loadingCustom from '../../components/front/LoadingCustom.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      orderId: '',\r\n      order: {\r\n        products: {},\r\n        user: {},\r\n        is_paid: false\r\n      },\r\n      isLoading: false\r\n    }\r\n  },\r\n  components: {\r\n    loadingCustom\r\n  },\r\n  methods: {\r\n    getOrder () {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order/${this.orderId}`\r\n      this.$http.get(url).then((res) => {\r\n        if (res.data.success) {\r\n          console.log(res)\r\n          this.order = res.data.order\r\n          this.isLoading = false\r\n        }\r\n      })\r\n    },\r\n    payOrder () {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`\r\n      this.$http.post(url).then((res) => {\r\n        if (res.data.success) {\r\n          console.log(res)\r\n          this.getOrder()\r\n          this.$store.dispatch('getCart')\r\n          this.isLoading = false\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.orderId = this.$route.params.orderId\r\n    console.log(this.orderId)\r\n    this.getOrder()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container-fluid {\r\n  max-width: 1140px;\r\n}\r\n.alert-success{\r\n  background-color: #ddd;\r\n  color: #333;\r\n}\r\n.alert-primary{\r\n  background-color: #333;\r\n  color: #ddd;\r\n}\r\n.buyer{\r\n  border: 3px solid #fff;\r\n  border-radius: 20px;\r\n  padding: 20px;\r\n  background-color: rgba(50, 50, 50, 0.2);\r\n}\r\n.alert-rounded{\r\n  border-radius: 50px;\r\n}\r\n</style>\r\n","import { render } from \"./UserCheckout.vue?vue&type=template&id=07a4e92e&scoped=true\"\nimport script from \"./UserCheckout.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheckout.vue?vue&type=script&lang=js\"\n\nimport \"./UserCheckout.vue?vue&type=style&index=0&id=07a4e92e&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-07a4e92e\"\n\nexport default script"],"sourceRoot":""}