(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7987849b"],{"057f":function(t,e,c){var n=c("fc6a"),r=c("241c").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return r(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?o(t):r(n(t))}},1303:function(t,e,c){"use strict";c.r(e);c("caad"),c("2532"),c("a4d3"),c("e01a");var n=c("7a23"),r=Object(n["T"])("data-v-e85e27a0");Object(n["z"])("data-v-e85e27a0");var i={class:"d-flex justify-content-end cartBtn"},a={class:"badge rounded-pill bg-primary"},o={class:"fs-5"},s={class:"container mt-5"},l={class:"row"},u={class:"col-lg-7 p-4 text-center"},d={class:"col-lg-5 text-white my-5"},b={class:"fw-bolder"},f={class:"d-flex flex-row-reverse"},p={class:"fw-bold"},h={class:"mx-2"},O=Object(n["i"])("hr",{class:"text-white"},null,-1),j={class:"description my-3 py-3"},v=Object(n["i"])("h3",{class:"px-2 text-center"},"卡牌效果",-1),m=Object(n["i"])("br",null,null,-1),y={class:"px-2"},g=Object(n["i"])("hr",{class:"text-white"},null,-1),w={class:"description my-3 py-3"},x=Object(n["i"])("h3",{class:"px-2 text-center"},"說明",-1),S=Object(n["i"])("br",null,null,-1),C={class:"px-2"},I=Object(n["i"])("hr",{class:"text-white"},null,-1),$={class:"container"},k={class:"row"},q={class:"col-lg-6 d-flex align-items-center g-0"},P={class:"input-group my-3"},L=Object(n["i"])("i",{class:"bi bi-dash-lg"},null,-1),M=Object(n["i"])("i",{class:"bi bi-plus-lg"},null,-1),N={class:"p-2 col-lg-6 text-center"},T=Object(n["i"])("i",{class:"fas fa-spinner fa-spin"},null,-1),E=Object(n["i"])("i",{class:"bi bi-file-plus-fill fs-4"},null,-1),_=Object(n["h"])(" 加入牌組 ");Object(n["x"])();var F=r((function(t,e,c,r,F,J){var z=Object(n["F"])("cartModal");return Object(n["w"])(),Object(n["e"])(n["a"],null,[Object(n["i"])("div",i,[Object(n["i"])("button",{class:"btn deck",onClick:e[1]||(e[1]=function(t){return J.openModal()})},[Object(n["i"])("span",a,[Object(n["i"])("div",o,Object(n["I"])(J.cartNum),1)])])]),Object(n["i"])(z,{ref:"cartModal"},null,512),Object(n["i"])("div",s,[Object(n["i"])("div",l,[Object(n["i"])("div",u,[Object(n["i"])("img",{src:F.product.imageUrl,class:"cardImg",alt:""},null,8,["src"])]),Object(n["i"])("div",d,[Object(n["i"])("h1",b,Object(n["I"])(F.product.title),1),Object(n["i"])("div",{class:["cardCategory py-1 h6 rounded-pill",{monster:F.cardType.monsterCard.includes(F.product.category),spell:F.cardType.spellCard.includes(F.product.category),trap:F.cardType.trapCard.includes(F.product.category)}]},Object(n["I"])(F.product.category),3),Object(n["i"])("div",f,[Object(n["i"])("h2",p,"$"+Object(n["I"])(F.product.price),1),Object(n["i"])("del",h,"$"+Object(n["I"])(F.product.origin_price),1)]),O,Object(n["i"])("div",j,[v,m,Object(n["i"])("p",y,Object(n["I"])(F.product.content),1)]),g,Object(n["i"])("div",w,[x,S,Object(n["i"])("p",C,Object(n["I"])(F.product.description),1)]),I,Object(n["i"])("div",$,[Object(n["i"])("div",k,[Object(n["i"])("div",q,[Object(n["i"])("div",P,[Object(n["i"])("button",{class:"input-group-text btnNum",onClick:e[2]||(e[2]=function(t){return J.handleSub()})},[L]),Object(n["R"])(Object(n["i"])("input",{size:"2",type:"number",class:"numText text-center","aria-label":"Amount (to the nearest dollar)","onUpdate:modelValue":e[3]||(e[3]=function(t){return F.qty=t}),max:"99",min:"1"},null,512),[[n["M"],F.qty,void 0,{number:!0}]]),Object(n["i"])("button",{class:"input-group-text btnNum",onClick:e[4]||(e[4]=function(t){return J.handlePlus()})},[M])])]),Object(n["i"])("div",N,[Object(n["i"])("button",{type:"button",class:"btn btn-outline-warning btn-md border border-2 border-warning my-3 w-75",onClick:e[5]||(e[5]=function(t){return J.addCart(c.id)})},[T,E,_])])])])])])])],64)})),J=(c("99af"),c("21c5")),z={props:["id"],data:function(){return{product:[],qty:1,status:{loadingItem:""},cardType:{monsterCard:["通常怪獸","效果怪獸","融合怪獸"],spellCard:["通常魔法","速攻魔法"],trapCard:["通常陷阱","反擊陷阱"]}}},computed:{isLoading:function(){return this.$store.state.isLoading},cartNum:function(){return void 0===this.$store.state.cart.carts?0:this.$store.state.cart.carts.length}},components:{cartModal:J["a"]},inject:["emitter"],methods:{getProduct:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sly8462","/product/").concat(t);this.$http.get(c).then((function(t){e.product=t.data.product}))},addCart:function(t){var e=this;this.$store.dispatch("updateLoading",!0),this.status.loadingItem=t;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sly8462","/cart"),n={product_id:t,qty:this.qty};this.$http.post(c,{data:n}).then((function(t){t.data.success&&(e.status.loadingItem="",e.emitter.emit("push-message",{style:"secondary",title:"已將卡片加入牌組"}),e.$store.dispatch("getCart"),e.$store.dispatch("updateLoading",!1))}))},handlePlus:function(){this.qty<99&&this.qty++},handleSub:function(){this.qty>1&&this.qty--},openModal:function(){var t=this.$refs.cartModal;t.showModal()}},watch:{qty:function(){this.qty>99?this.qty=99:this.qty<1&&(this.qty=1)}},created:function(){this.getProduct(this.id)}};c("ae0a");z.render=F,z.__scopeId="data-v-e85e27a0";e["default"]=z},"21c5":function(t,e,c){"use strict";var n=c("7a23"),r=Object(n["T"])("data-v-166e7892");Object(n["z"])("data-v-166e7892");var i={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal","data-bs-backdrop":"static"},a={class:"modal-dialog mt-5"},o={class:"modal-content"},s=Object(n["i"])("div",{class:"modal-header text-white"},[Object(n["i"])("h5",{class:"modal-title",id:"exampleModalLabel"},"牌組內容"),Object(n["i"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),l={key:0,class:"py-3 w-100 px-5"},u={class:"table text-white"},d=Object(n["i"])("thead",{class:"row"},[Object(n["i"])("th",{class:"col-2"}),Object(n["i"])("th",{class:"text-center fw-bold col-4"},"卡名"),Object(n["i"])("th",{class:"text-center fw-bold col-3"},"數量"),Object(n["i"])("th",{class:"text-center fw-bold col-3"},"單價")],-1),b=Object(n["i"])("br",null,null,-1),f={class:"align-middle col-2"},p=Object(n["i"])("i",{class:"bi bi-trash-fill"},null,-1),h={class:"text-center col-4"},O={class:"text-center col-3"},j={class:"text-center col-3"},v=Object(n["i"])("br",null,null,-1),m={class:"text-white"},y={class:"text-end"},g=Object(n["h"])("共 "),w={class:"fw-bolder"},x=Object(n["h"])(" 元"),S=Object(n["i"])("br",null,null,-1),C={class:"d-grid"},I={key:1,class:"px-4 py-3 text-white text-center fs-4"};Object(n["x"])();var $=r((function(t,e,c,r,$,k){var q=Object(n["F"])("loadingCustom");return Object(n["w"])(),Object(n["e"])(n["a"],null,[Object(n["i"])(q,{tempIsLoading:k.isLoading},null,8,["tempIsLoading"]),Object(n["i"])("div",i,[Object(n["i"])("div",a,[Object(n["i"])("div",o,[s,0!==k.cartNum?(Object(n["w"])(),Object(n["e"])("div",l,[Object(n["i"])("table",u,[d,b,Object(n["i"])("tbody",null,[(Object(n["w"])(!0),Object(n["e"])(n["a"],null,Object(n["D"])(k.cart.carts,(function(t){return Object(n["w"])(),Object(n["e"])("tr",{key:t.id,class:"row"},[Object(n["i"])("td",f,[Object(n["i"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return k.removeCart(t.id)}},[p],8,["onClick"])]),Object(n["i"])("td",h,Object(n["I"])(t.product.title),1),Object(n["i"])("td",O,Object(n["I"])(t.qty),1),Object(n["i"])("td",j,Object(n["I"])(t.total)+" 元",1)])})),128))])]),v,Object(n["i"])("div",m,[Object(n["i"])("p",y,[g,Object(n["i"])("span",w,Object(n["I"])(k.cart.total),1),x])]),S,Object(n["i"])("div",C,[Object(n["i"])("button",{class:"btn btn-outline-warning","data-bs-dismiss":"modal",onClick:e[1]||(e[1]=function(){return k.toOrder&&k.toOrder.apply(k,arguments)})},"結帳")])])):(Object(n["w"])(),Object(n["e"])("div",I," 您還沒把卡片加入牌組中喔! "))])])],512)],64)})),k=c("db44"),q=c("5c0d"),P={mixins:[k["a"]],components:{loadingCustom:q["a"]},computed:{isLoading:function(){return this.$store.state.isLoading},cart:function(){return this.$store.state.cart},cartNum:function(){return void 0===this.$store.state.cart.carts?0:this.$store.state.cart.carts.length}},methods:{removeCart:function(t){this.$store.dispatch("removeCart",t)},toOrder:function(){this.$router.push("/order")}}};c("4f14");P.render=$,P.__scopeId="data-v-166e7892";e["a"]=P},2532:function(t,e,c){"use strict";var n=c("23e7"),r=c("5a34"),i=c("1d80"),a=c("ab13");n({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(i(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,c){var n=c("861d"),r=c("c6b6"),i=c("b622"),a=i("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==r(t))}},"4f14":function(t,e,c){"use strict";c("57e1")},"57e1":function(t,e,c){},"5a34":function(t,e,c){var n=c("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"746f":function(t,e,c){var n=c("428f"),r=c("5135"),i=c("e538"),a=c("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});r(e,t)||a(e,t,{value:i.f(t)})}},a4d3:function(t,e,c){"use strict";var n=c("23e7"),r=c("da84"),i=c("d066"),a=c("c430"),o=c("83ab"),s=c("4930"),l=c("fdbf"),u=c("d039"),d=c("5135"),b=c("e8b5"),f=c("861d"),p=c("825a"),h=c("7b0b"),O=c("fc6a"),j=c("c04e"),v=c("5c6c"),m=c("7c73"),y=c("df75"),g=c("241c"),w=c("057f"),x=c("7418"),S=c("06cf"),C=c("9bf2"),I=c("d1e7"),$=c("9112"),k=c("6eeb"),q=c("5692"),P=c("f772"),L=c("d012"),M=c("90e3"),N=c("b622"),T=c("e538"),E=c("746f"),_=c("d44e"),F=c("69f3"),J=c("b727").forEach,z=P("hidden"),A="Symbol",D="prototype",R=N("toPrimitive"),U=F.set,B=F.getterFor(A),Q=Object[D],V=r.Symbol,W=i("JSON","stringify"),G=S.f,H=C.f,K=w.f,X=I.f,Y=q("symbols"),Z=q("op-symbols"),tt=q("string-to-symbol-registry"),et=q("symbol-to-string-registry"),ct=q("wks"),nt=r.QObject,rt=!nt||!nt[D]||!nt[D].findChild,it=o&&u((function(){return 7!=m(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(t,e,c){var n=G(Q,e);n&&delete Q[e],H(t,e,c),n&&t!==Q&&H(Q,e,n)}:H,at=function(t,e){var c=Y[t]=m(V[D]);return U(c,{type:A,tag:t,description:e}),o||(c.description=e),c},ot=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof V},st=function(t,e,c){t===Q&&st(Z,e,c),p(t);var n=j(e,!0);return p(c),d(Y,n)?(c.enumerable?(d(t,z)&&t[z][n]&&(t[z][n]=!1),c=m(c,{enumerable:v(0,!1)})):(d(t,z)||H(t,z,v(1,{})),t[z][n]=!0),it(t,n,c)):H(t,n,c)},lt=function(t,e){p(t);var c=O(e),n=y(c).concat(pt(c));return J(n,(function(e){o&&!dt.call(c,e)||st(t,e,c[e])})),t},ut=function(t,e){return void 0===e?m(t):lt(m(t),e)},dt=function(t){var e=j(t,!0),c=X.call(this,e);return!(this===Q&&d(Y,e)&&!d(Z,e))&&(!(c||!d(this,e)||!d(Y,e)||d(this,z)&&this[z][e])||c)},bt=function(t,e){var c=O(t),n=j(e,!0);if(c!==Q||!d(Y,n)||d(Z,n)){var r=G(c,n);return!r||!d(Y,n)||d(c,z)&&c[z][n]||(r.enumerable=!0),r}},ft=function(t){var e=K(O(t)),c=[];return J(e,(function(t){d(Y,t)||d(L,t)||c.push(t)})),c},pt=function(t){var e=t===Q,c=K(e?Z:O(t)),n=[];return J(c,(function(t){!d(Y,t)||e&&!d(Q,t)||n.push(Y[t])})),n};if(s||(V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=M(t),c=function(t){this===Q&&c.call(Z,t),d(this,z)&&d(this[z],e)&&(this[z][e]=!1),it(this,e,v(1,t))};return o&&rt&&it(Q,e,{configurable:!0,set:c}),at(e,t)},k(V[D],"toString",(function(){return B(this).tag})),k(V,"withoutSetter",(function(t){return at(M(t),t)})),I.f=dt,C.f=st,S.f=bt,g.f=w.f=ft,x.f=pt,T.f=function(t){return at(N(t),t)},o&&(H(V[D],"description",{configurable:!0,get:function(){return B(this).description}}),a||k(Q,"propertyIsEnumerable",dt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:V}),J(y(ct),(function(t){E(t)})),n({target:A,stat:!0,forced:!s},{for:function(t){var e=String(t);if(d(tt,e))return tt[e];var c=V(e);return tt[e]=c,et[c]=e,c},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(d(et,t))return et[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),n({target:"Object",stat:!0,forced:!s,sham:!o},{create:ut,defineProperty:st,defineProperties:lt,getOwnPropertyDescriptor:bt}),n({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ft,getOwnPropertySymbols:pt}),n({target:"Object",stat:!0,forced:u((function(){x.f(1)}))},{getOwnPropertySymbols:function(t){return x.f(h(t))}}),W){var ht=!s||u((function(){var t=V();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}));n({target:"JSON",stat:!0,forced:ht},{stringify:function(t,e,c){var n,r=[t],i=1;while(arguments.length>i)r.push(arguments[i++]);if(n=e,(f(e)||void 0!==t)&&!ot(t))return b(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!ot(e))return e}),r[1]=e,W.apply(null,r)}})}V[D][R]||$(V[D],R,V[D].valueOf),_(V,A),L[z]=!0},ab13:function(t,e,c){var n=c("b622"),r=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(c){try{return e[r]=!1,"/./"[t](e)}catch(n){}}return!1}},ae0a:function(t,e,c){"use strict";c("e18e")},b727:function(t,e,c){var n=c("0366"),r=c("44ad"),i=c("7b0b"),a=c("50c4"),o=c("65f0"),s=[].push,l=function(t){var e=1==t,c=2==t,l=3==t,u=4==t,d=6==t,b=7==t,f=5==t||d;return function(p,h,O,j){for(var v,m,y=i(p),g=r(y),w=n(h,O,3),x=a(g.length),S=0,C=j||o,I=e?C(p,x):c||b?C(p,0):void 0;x>S;S++)if((f||S in g)&&(v=g[S],m=w(v,S,y),t))if(e)I[S]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return S;case 2:s.call(I,v)}else switch(t){case 4:return!1;case 7:s.call(I,v)}return d?-1:l||u?u:I}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},caad:function(t,e,c){"use strict";var n=c("23e7"),r=c("4d64").includes,i=c("44d2");n({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},e01a:function(t,e,c){"use strict";var n=c("23e7"),r=c("83ab"),i=c("da84"),a=c("5135"),o=c("861d"),s=c("9bf2").f,l=c("e893"),u=i.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},b=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof b?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};l(b,u);var f=b.prototype=u.prototype;f.constructor=b;var p=f.toString,h="Symbol(test)"==String(u("test")),O=/^Symbol\((.*)\)[^)]+$/;s(f,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=p.call(t);if(a(d,t))return"";var c=h?e.slice(7,-1):e.replace(O,"$1");return""===c?void 0:c}}),n({global:!0,forced:!0},{Symbol:b})}},e18e:function(t,e,c){},e538:function(t,e,c){var n=c("b622");e.f=n}}]);
//# sourceMappingURL=chunk-7987849b.a4cba42c.js.map