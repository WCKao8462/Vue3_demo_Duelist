(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f2cd1e8"],{"3aa8":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return s}));function c(t,e){return Array.isArray(t)?t[0]:t[e]}const a=t=>{const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(t)?t.every(t=>e.test(String(t))):e.test(String(t))};function i(t){return null===t||void 0===t}function o(t){return Array.isArray(t)&&0===t.length}const r=(t,e)=>{const n=c(e,"length");return!i(t)&&(Array.isArray(t)?t.every(t=>r(t,{length:n})):String(t).length>=Number(n))},s=t=>!i(t)&&!o(t)&&!1!==t&&!!String(t).trim().length},4015:function(t,e,n){"use strict";n.r(e);var c=n("7a23"),a=n("84c6"),i=n.n(a),o=Object(c["T"])("data-v-256345f5");Object(c["z"])("data-v-256345f5");var r={key:0,class:"container my-5"},s=Object(c["i"])("h3",{class:"text-center text-white my-4"},"牌組清單",-1),l={class:"productList ps-3 pe-3 mt-3 mx-auto",style:{"max-width":"960px"}},u={class:"mx-2 w-100"},d={key:0,class:"text-warning"},b={class:"row align-items-center"},p={class:"col-sm-2 text-center"},m={class:"col-sm-2 col-7 mx-auto"},h={class:"h5 card-title text-center my-auto"},j={class:"col-sm-3 col-5"},f={key:1,class:"h5 text-warning my-auto py-2 text-center"},O={class:"col-sm-3 col-8"},g={class:"input-group input-group-sm my-1 py-2 flex-nowrap px-2 w-100 justify-content-center"},y=Object(c["i"])("i",{class:"bi bi-dash-lg"},null,-1),v=Object(c["i"])("i",{class:"bi bi-plus-lg"},null,-1),x={class:"col-sm-2 col-4 text-center"},w=Object(c["i"])("i",{class:"bi bi-trash-fill fs-6"},null,-1),C={class:"m-auto my-0",style:{"max-width":"600px"}},k={key:1,class:"text-warning text-end h4 py-2"},$={class:"input-group input-group-sm m-auto py-4",style:{"max-width":"600px"}},I={class:"input-group-append"},L={class:"d-flex justify-content-between px-5 mt-4"},_=Object(c["i"])("i",{class:"bi bi-arrow-left-square-fill"},null,-1),A=Object(c["h"])(" 繼續選購"),q=Object(c["h"])("確認訂單 "),P=Object(c["i"])("i",{class:"bi bi-arrow-right-square-fill"},null,-1),U={key:1},S={class:"m-auto mt-5 mb-2 bg-dark text-white text-center",style:{"max-width":"400px"}},z=Object(c["i"])("div",{class:"h2 p-2 text-primary fw-bolder"},"牌抽光了???",-1),T=Object(c["i"])("img",{src:i.a,class:"p-3 mb-3",alt:"購物車沒東西"},null,-1),M=Object(c["i"])("div",{class:"h4 p-2 text-primary"},[Object(c["i"])("p",null,"沒有卡片怎麼成為決鬥者呢??"),Object(c["i"])("p",null,"快回去選購吧!!")],-1),N=Object(c["h"])("我要買牌 "),J=Object(c["i"])("i",{class:"bi bi-basket2-fill"},null,-1);Object(c["x"])();var V=o((function(t,e,n,a,i,o){var V=Object(c["F"])("LoadingCustom");return Object(c["w"])(),Object(c["e"])(c["a"],null,[Object(c["i"])(V,{tempIsLoading:o.isLoading},null,8,["tempIsLoading"]),0!==o.cartNum?(Object(c["w"])(),Object(c["e"])("div",r,[s,Object(c["i"])("div",l,[Object(c["i"])("div",u,[o.cart.final_total!==o.cart.total?(Object(c["w"])(),Object(c["e"])("p",d,"已套用優惠卷，若有重新選購請再重新輸入優惠碼")):Object(c["f"])("",!0),(Object(c["w"])(!0),Object(c["e"])(c["a"],null,Object(c["D"])(o.carts,(function(t){return Object(c["w"])(),Object(c["e"])("div",{class:"card mb-4 text-white m-auto border-primary",style:{"background-color":"#000"},key:t.id},[Object(c["i"])("div",b,[Object(c["i"])("div",p,[Object(c["i"])("div",{style:{backgroundImage:"url(".concat(t.product.imageUrl,")")},class:"cartImg mx-auto text-center d-none d-sm-block"},null,4)]),Object(c["i"])("div",m,[Object(c["i"])("p",h,Object(c["I"])(t.product.title),1)]),Object(c["i"])("div",j,[t.final_total===t.total?(Object(c["w"])(),Object(c["e"])("p",{key:0,class:["h5 my-auto mx-3 py-2 text-center",{"text-decoration-line-through":t.final_total!==t.total}]},"$ "+Object(c["I"])(t.total),3)):(Object(c["w"])(),Object(c["e"])("p",f,"$ "+Object(c["I"])(t.final_total),1))]),Object(c["i"])("div",O,[Object(c["i"])("div",g,[Object(c["i"])("button",{type:"button",class:"input-group-text bg-primary text-dark border-white",onClick:function(e){return o.handleSub(t,t.qty)}},[y],8,["onClick"]),Object(c["R"])(Object(c["i"])("input",{size:"2",type:"number",class:"numText text-center",min:"0",max:"99","onUpdate:modelValue":function(e){return t.qty=e},onChange:function(e){return o.updateCart(t,t.qty)},disabled:""},null,40,["onUpdate:modelValue","onChange"]),[[c["M"],t.qty,void 0,{number:!0}]]),Object(c["i"])("button",{type:"button",class:"input-group-text bg-primary text-dark border-white",onClick:function(e){return o.handlePlus(t,t.qty)}},[v],8,["onClick"])])]),Object(c["i"])("div",x,[Object(c["i"])("button",{type:"button",class:"btn btn-outline-danger btn-md m-3",onClick:function(e){return o.removeCart(t.id,t.product.title)}},[w],8,["onClick"])])])])})),128)),Object(c["i"])("div",C,[o.cart.final_total===o.cart.total?(Object(c["w"])(),Object(c["e"])("p",{key:0,class:["text-white text-end h4 py-2",{"text-decoration-line-through":o.cart.final_total!==o.cart.total}]},"總計 $ "+Object(c["I"])(o.cart.total),3)):(Object(c["w"])(),Object(c["e"])("p",k,"折扣價 $ "+Object(c["I"])(o.cart.final_total),1))]),Object(c["i"])("div",$,[Object(c["R"])(Object(c["i"])("input",{type:"text",class:"form-control text-white",placeholder:"請輸入優惠碼",style:{"background-color":"#000"},"onUpdate:modelValue":e[1]||(e[1]=function(t){return i.couponCode=t})},null,512),[[c["M"],i.couponCode]]),Object(c["i"])("div",I,[Object(c["i"])("button",{type:"button",class:"btn btn-outline-light btn-md",onClick:e[2]||(e[2]=function(){return o.addCouponCode&&o.addCouponCode.apply(o,arguments)})}," 套用優惠碼 ")])])]),Object(c["i"])("div",L,[Object(c["i"])("button",{type:"button",class:"btn btn-outline-light btn-lg me-3 fs-4 border-5 fw-bolder",onClick:e[3]||(e[3]=function(){return o.toProducts&&o.toProducts.apply(o,arguments)})},[_,A]),Object(c["i"])("button",{type:"button",class:"btn btnCustom btn-lg ps-3",onClick:e[4]||(e[4]=function(){return o.toUserInformation&&o.toUserInformation.apply(o,arguments)})},[q,P])])])])):(Object(c["w"])(),Object(c["e"])("section",U,[Object(c["i"])("div",S,[z,T,M,Object(c["i"])("button",{type:"button",class:"d-block mx-auto btn btn-outline-light btn-lg fs-4 border-5 fw-bolder",onClick:e[5]||(e[5]=function(){return o.toProducts&&o.toProducts.apply(o,arguments)})},[N,J])])]))],64)})),D=(n("99af"),n("7bb1")),E=n("3aa8"),F=n("5c0d");Object(D["d"])("required",E["c"]),Object(D["d"])("email",E["a"]),Object(D["d"])("min",E["b"]);var R={data:function(){return{status:{loadingItem:""},couponCode:"",form:{user:{email:"",name:"",address:"",tel:""},message:""}}},components:{LoadingCustom:F["a"]},computed:{isLoading:function(){return this.$store.state.isLoading},cart:function(){return this.$store.state.cart},carts:function(){return this.$store.state.cart.carts},cartNum:function(){return void 0===this.$store.state.cart.carts?0:this.$store.state.cart.carts.length}},methods:{getCart:function(){this.$store.dispatch("getCart")},removeCart:function(t,e){var n={id:t,title:e};this.$store.dispatch("removeCart",n)},updateCart:function(t,e){var n=this;this.$store.dispatch("updateLoading",!0),this.status.loadingItem=t.id;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sly8462","/cart/").concat(t.id),a={product_id:t.id,qty:e};this.$http.put(c,{data:a}).then((function(t){n.getCart(),n.status.loadingItem="",n.$store.dispatch("updateLoading",!1)}))},addCouponCode:function(){var t=this;this.$store.dispatch("updateLoading",!0);var e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sly8462","/coupon"),n={code:this.couponCode};this.$http.post(e,{data:n}).then((function(e){e.data.success?(t.$store.dispatch("receiveMessage",{style:"success",title:"已套用優惠券"}),t.getCart()):t.$store.dispatch("receiveMessage",{style:"danger",title:"優惠券套用失敗",content:"您的優惠券代碼無效"}),t.$store.dispatch("updateLoading",!1)}))},handlePlus:function(t,e){var n=e;n<99&&(n++,this.updateCart(t,n))},handleSub:function(t,e){var n=e;n>1&&(n--,this.updateCart(t,n))},toUserInformation:function(){this.$router.push("/information"),document.documentElement.scrollTop=0},toProducts:function(){this.$router.push("/product"),document.documentElement.scrollTop=0}},created:function(){this.getCart()}};n("a0b2");R.render=V,R.__scopeId="data-v-256345f5";e["default"]=R},"5c0d":function(t,e,n){"use strict";var c=n("7a23"),a=Object(c["T"])("data-v-034b20bd");Object(c["z"])("data-v-034b20bd");var i=Object(c["i"])("div",{class:"circle"},null,-1),o=Object(c["i"])("p",{class:"loading fw-bolder text-white fs-3"},"LOADING",-1);Object(c["x"])();var r=a((function(t,e,n,r,s,l){var u=Object(c["F"])("loading");return Object(c["w"])(),Object(c["e"])(u,{active:n.tempIsLoading,class:"text-center loading"},{default:a((function(){return[i,o]})),_:1},8,["active"])})),s={props:{tempIsLoading:{type:Boolean,default:function(){return!1}}}};n("b128");s.render=r,s.__scopeId="data-v-034b20bd";e["a"]=s},8233:function(t,e,n){},"84c6":function(t,e,n){t.exports=n.p+"img/Joey.328b60a1.png"},a0b2:function(t,e,n){"use strict";n("fcb2")},b128:function(t,e,n){"use strict";n("8233")},fcb2:function(t,e,n){}}]);
//# sourceMappingURL=chunk-1f2cd1e8.75f8f4e0.js.map