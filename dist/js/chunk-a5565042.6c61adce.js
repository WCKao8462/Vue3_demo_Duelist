(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a5565042"],{"14c3":function(t,e,a){var c=a("c6b6"),n=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var r=a.call(t,e);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==c(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},1799:function(t,e,a){"use strict";var c=a("7a23"),n=Object(c["T"])("data-v-00781cfa");Object(c["z"])("data-v-00781cfa");var r={"aria-label":"Page navigation example"},i={key:0,class:"pagination justify-content-center mb-5"},s={class:"page-item"},o=Object(c["i"])("span",{"aria-hidden":"true"},"上一頁",-1),l={class:"page-item",disabled:""},d=Object(c["i"])("span",{"aria-hidden":"true"},"下一頁",-1);Object(c["x"])();var u=n((function(t,e,a,n,u,b){return Object(c["w"])(),Object(c["e"])("nav",r,[a.pages.total_pages>1?(Object(c["w"])(),Object(c["e"])("ul",i,[Object(c["i"])("li",s,[Object(c["i"])("button",{class:["page-link fs-4",{"text-white text-decoration-line-through":!a.pages.has_pre}],"aria-label":"Prev",onClick:e[1]||(e[1]=Object(c["S"])((function(t){return b.updatePage(a.pages.current_page-1)}),["prevent"])),disabled:!a.pages.has_pre},[o],10,["disabled"])]),(Object(c["w"])(!0),Object(c["e"])(c["a"],null,Object(c["D"])(a.pages.total_pages,(function(t){return Object(c["w"])(),Object(c["e"])("li",{class:["page-item",{active:t===a.pages.current_page}],key:t},[Object(c["i"])("button",{class:"page-link fs-4",onClick:Object(c["S"])((function(e){return b.updatePage(t)}),["prevent"])},Object(c["I"])(t),9,["onClick"])],2)})),128)),Object(c["i"])("li",l,[Object(c["i"])("button",{class:["page-link fs-4",{"text-white text-decoration-line-through":!a.pages.has_next}],"aria-label":"Next",onClick:e[2]||(e[2]=Object(c["S"])((function(t){return b.updatePage(a.pages.current_page+1)}),["prevent"])),disabled:!a.pages.has_next},[d],10,["disabled"])])])):Object(c["f"])("",!0)])})),b={props:["pages"],methods:{updatePage:function(t){this.$emit("emit-pages",t)}}};a("7ce6");b.render=u,b.__scopeId="data-v-00781cfa";e["a"]=b},"21c5":function(t,e,a){"use strict";var c=a("7a23"),n=Object(c["T"])("data-v-166e7892");Object(c["z"])("data-v-166e7892");var r={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal","data-bs-backdrop":"static"},i={class:"modal-dialog mt-5"},s={class:"modal-content"},o=Object(c["i"])("div",{class:"modal-header text-white"},[Object(c["i"])("h5",{class:"modal-title",id:"exampleModalLabel"},"牌組內容"),Object(c["i"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),l={key:0,class:"py-3 w-100 px-5"},d={class:"table text-white"},u=Object(c["i"])("thead",{class:"row"},[Object(c["i"])("th",{class:"col-2"}),Object(c["i"])("th",{class:"text-center fw-bold col-4"},"卡名"),Object(c["i"])("th",{class:"text-center fw-bold col-3"},"數量"),Object(c["i"])("th",{class:"text-center fw-bold col-3"},"單價")],-1),b=Object(c["i"])("br",null,null,-1),p={class:"align-middle col-2"},f=Object(c["i"])("i",{class:"bi bi-trash-fill"},null,-1),h={class:"text-center col-4"},g={class:"text-center col-3"},O={class:"text-center col-3"},j=Object(c["i"])("br",null,null,-1),v={class:"text-white"},m={class:"text-end"},x=Object(c["h"])("共 "),y={class:"fw-bolder"},w=Object(c["h"])(" 元"),C=Object(c["i"])("br",null,null,-1),I={class:"d-grid"},k={key:1,class:"px-4 py-3 text-white text-center fs-4"};Object(c["x"])();var E=n((function(t,e,a,n,E,P){var $=Object(c["F"])("loadingCustom");return Object(c["w"])(),Object(c["e"])(c["a"],null,[Object(c["i"])($,{tempIsLoading:P.isLoading},null,8,["tempIsLoading"]),Object(c["i"])("div",r,[Object(c["i"])("div",i,[Object(c["i"])("div",s,[o,0!==P.cartNum?(Object(c["w"])(),Object(c["e"])("div",l,[Object(c["i"])("table",d,[u,b,Object(c["i"])("tbody",null,[(Object(c["w"])(!0),Object(c["e"])(c["a"],null,Object(c["D"])(P.cart.carts,(function(t){return Object(c["w"])(),Object(c["e"])("tr",{key:t.id,class:"row"},[Object(c["i"])("td",p,[Object(c["i"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return P.removeCart(t.id)}},[f],8,["onClick"])]),Object(c["i"])("td",h,Object(c["I"])(t.product.title),1),Object(c["i"])("td",g,Object(c["I"])(t.qty),1),Object(c["i"])("td",O,Object(c["I"])(t.total)+" 元",1)])})),128))])]),j,Object(c["i"])("div",v,[Object(c["i"])("p",m,[x,Object(c["i"])("span",y,Object(c["I"])(P.cart.total),1),w])]),C,Object(c["i"])("div",I,[Object(c["i"])("button",{class:"btn btn-outline-warning","data-bs-dismiss":"modal",onClick:e[1]||(e[1]=function(){return P.toOrder&&P.toOrder.apply(P,arguments)})},"結帳")])])):(Object(c["w"])(),Object(c["e"])("div",k," 您還沒把卡片加入牌組中喔! "))])])],512)],64)})),P=a("db44"),$=a("5c0d"),_={mixins:[P["a"]],components:{loadingCustom:$["a"]},computed:{isLoading:function(){return this.$store.state.isLoading},cart:function(){return this.$store.state.cart},cartNum:function(){return void 0===this.$store.state.cart.carts?0:this.$store.state.cart.carts.length}},methods:{removeCart:function(t){this.$store.dispatch("removeCart",t)},toOrder:function(){this.$router.push("/order")}}};a("4f14");_.render=E,_.__scopeId="data-v-166e7892";e["a"]=_},2532:function(t,e,a){"use strict";var c=a("23e7"),n=a("5a34"),r=a("1d80"),i=a("ab13");c({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~String(r(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"37f5":function(t,e,a){},"44e7":function(t,e,a){var c=a("861d"),n=a("c6b6"),r=a("b622"),i=r("match");t.exports=function(t){var e;return c(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==n(t))}},"466d":function(t,e,a){"use strict";var c=a("d784"),n=a("825a"),r=a("50c4"),i=a("1d80"),s=a("8aa5"),o=a("14c3");c("match",1,(function(t,e,a){return[function(e){var a=i(this),c=void 0==e?void 0:e[t];return void 0!==c?c.call(e,a):new RegExp(e)[t](String(a))},function(t){var c=a(e,t,this);if(c.done)return c.value;var i=n(t),l=String(this);if(!i.global)return o(i,l);var d=i.unicode;i.lastIndex=0;var u,b=[],p=0;while(null!==(u=o(i,l))){var f=String(u[0]);b[p]=f,""===f&&(i.lastIndex=s(l,r(i.lastIndex),d)),p++}return 0===p?null:b}]}))},"4de4":function(t,e,a){"use strict";var c=a("23e7"),n=a("b727").filter,r=a("1dde"),i=r("filter");c({target:"Array",proto:!0,forced:!i},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"4f14":function(t,e,a){"use strict";a("57e1")},"57e1":function(t,e,a){},"5a34":function(t,e,a){var c=a("44e7");t.exports=function(t){if(c(t))throw TypeError("The method doesn't accept regular expressions");return t}},"7ce6":function(t,e,a){"use strict";a("955b")},"8aa5":function(t,e,a){"use strict";var c=a("6547").charAt;t.exports=function(t,e,a){return e+(a?c(t,e).length:1)}},9263:function(t,e,a){"use strict";var c=a("ad6d"),n=a("9f7f"),r=a("5692"),i=RegExp.prototype.exec,s=r("native-string-replace",String.prototype.replace),o=i,l=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),d=n.UNSUPPORTED_Y||n.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],b=l||u||d;b&&(o=function(t){var e,a,n,r,o=this,b=d&&o.sticky,p=c.call(o),f=o.source,h=0,g=t;return b&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),g=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(f="(?: "+f+")",g=" "+g,h++),a=new RegExp("^(?:"+f+")",p)),u&&(a=new RegExp("^"+f+"$(?!\\s)",p)),l&&(e=o.lastIndex),n=i.call(b?a:o,g),b?n?(n.input=n.input.slice(h),n[0]=n[0].slice(h),n.index=o.lastIndex,o.lastIndex+=n[0].length):o.lastIndex=0:l&&n&&(o.lastIndex=o.global?n.index+n[0].length:e),u&&n&&n.length>1&&s.call(n[0],a,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(n[r]=void 0)})),n}),t.exports=o},"955b":function(t,e,a){},"9f7f":function(t,e,a){"use strict";var c=a("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=c((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=c((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ab13:function(t,e,a){var c=a("b622"),n=c("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[n]=!1,"/./"[t](e)}catch(c){}}return!1}},ac1f:function(t,e,a){"use strict";var c=a("23e7"),n=a("9263");c({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(t,e,a){"use strict";var c=a("825a");t.exports=function(){var t=c(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b727:function(t,e,a){var c=a("0366"),n=a("44ad"),r=a("7b0b"),i=a("50c4"),s=a("65f0"),o=[].push,l=function(t){var e=1==t,a=2==t,l=3==t,d=4==t,u=6==t,b=7==t,p=5==t||u;return function(f,h,g,O){for(var j,v,m=r(f),x=n(m),y=c(h,g,3),w=i(x.length),C=0,I=O||s,k=e?I(f,w):a||b?I(f,0):void 0;w>C;C++)if((p||C in x)&&(j=x[C],v=y(j,C,m),t))if(e)k[C]=v;else if(v)switch(t){case 3:return!0;case 5:return j;case 6:return C;case 2:o.call(k,j)}else switch(t){case 4:return!1;case 7:o.call(k,j)}return u?-1:l||d?d:k}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},caad:function(t,e,a){"use strict";var c=a("23e7"),n=a("4d64").includes,r=a("44d2");c({target:"Array",proto:!0},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},d2e7:function(t,e,a){"use strict";a("37f5")},d784:function(t,e,a){"use strict";a("ac1f");var c=a("6eeb"),n=a("9263"),r=a("d039"),i=a("b622"),s=a("9112"),o=i("species"),l=RegExp.prototype,d=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),b=i("replace"),p=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),f=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,b){var h=i(t),g=!r((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),O=g&&!r((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[o]=function(){return a},a.flags="",a[h]=/./[h]),a.exec=function(){return e=!0,null},a[h](""),!e}));if(!g||!O||"replace"===t&&(!d||!u||p)||"split"===t&&!f){var j=/./[h],v=a(h,""[t],(function(t,e,a,c,r){var i=e.exec;return i===n||i===l.exec?g&&!r?{done:!0,value:j.call(e,a,c)}:{done:!0,value:t.call(a,e,c)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),m=v[0],x=v[1];c(String.prototype,t,m),c(l,h,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}b&&s(l[h],"sham",!0)}},d9cc:function(t,e,a){"use strict";a.r(e);a("caad"),a("2532");var c=a("7a23"),n=Object(c["T"])("data-v-79f68d4a");Object(c["z"])("data-v-79f68d4a");var r={class:"d-flex justify-content-end cartBtn"},i={class:"badge rounded-pill bg-primary"},s={class:"fs-5"},o=Object(c["i"])("div",{class:"banner"},null,-1),l={class:"container"},d={class:"row"},u={class:"col-md-3 pt-3 mb-3"},b={class:"btn-group-vertical w-100 sticky-md-top",role:"group","aria-label":"Basic radio toggle button group"},p=Object(c["i"])("label",{class:"btn my-2 allCard",for:"allCard"},[Object(c["h"])(" 全部"),Object(c["i"])("br"),Object(c["h"])(" All ")],-1),f=Object(c["i"])("label",{class:"btn my-2 monsterCard",for:"monsterCard"},[Object(c["h"])(" 怪獸卡"),Object(c["i"])("br"),Object(c["h"])(" Monster Card ")],-1),h=Object(c["i"])("label",{class:"btn spellCard my-2",for:"spellCard"},[Object(c["h"])(" 魔法卡"),Object(c["i"])("br"),Object(c["h"])(" Spell Card ")],-1),g=Object(c["i"])("label",{class:"btn trapCard my-2",for:"trapCard"},[Object(c["h"])(" 陷阱卡"),Object(c["i"])("br"),Object(c["h"])(" Trap Card ")],-1),O={class:"col-md-9 pt-3  m-auto"},j={class:"text-white text-center"},v={class:"row mb-5"},m={class:"card h-100 animated"},x={class:"card-body"},y={class:"py-2 h4 text-center fw-bolder"},w={class:"d-flex justify-content-between align-items-baseline py-2 px-3"},C={class:"h6"},I={class:"h5 fw-bolder"},k={key:0,class:"spinner-grow spinner-grow-sm text-danger",role:"status"},E=Object(c["i"])("span",{class:"visually-hidden"},"Loading...",-1),P=Object(c["i"])("i",{class:"fas fa-spinner fa-spin"},null,-1),$=Object(c["i"])("i",{class:"bi bi-file-plus-fill fs-4"},null,-1),_=Object(c["h"])(" 加入牌組 ");Object(c["x"])();var S=n((function(t,e,a,n,S,R){var T=Object(c["F"])("cartModal"),N=Object(c["F"])("pagination");return Object(c["w"])(),Object(c["e"])(c["a"],null,[Object(c["i"])("div",r,[Object(c["i"])("button",{class:"btn deck",onClick:e[1]||(e[1]=function(t){return R.openModal()})},[Object(c["i"])("span",i,[Object(c["i"])("div",s,Object(c["I"])(R.cartNum),1)])])]),Object(c["i"])(T,{ref:"cartModal"},null,512),o,Object(c["i"])("div",l,[Object(c["i"])("div",d,[Object(c["i"])("div",u,[Object(c["i"])("div",b,[Object(c["i"])("input",{type:"radio",class:"btn-check",name:"btnradio",id:"allCard",autocomplete:"off",checked:"",onClick:e[2]||(e[2]=function(){return R.getProductsWithPages&&R.getProductsWithPages.apply(R,arguments)})}),p,Object(c["i"])("input",{type:"radio",class:"btn-check",name:"btnradio",id:"monsterCard",autocomplete:"off",onClick:e[3]||(e[3]=function(t){return R.setCard("怪獸","怪獸卡")})}),f,Object(c["i"])("input",{type:"radio",class:"btn-check",name:"btnradio",id:"spellCard",autocomplete:"off",onClick:e[4]||(e[4]=function(t){return R.setCard("魔法","魔法卡")})}),h,Object(c["i"])("input",{type:"radio",class:"btn-check",name:"btnradio",id:"trapCard",autocomplete:"off",onClick:e[5]||(e[5]=function(t){return R.setCard("陷阱","陷阱卡")})}),g])]),Object(c["i"])("div",O,[Object(c["i"])("h2",j,Object(c["I"])(S.typeName),1),Object(c["i"])("div",v,[(Object(c["w"])(!0),Object(c["e"])(c["a"],null,Object(c["D"])(R.filterSearch,(function(t){return Object(c["w"])(),Object(c["e"])("div",{class:"col-lg-4 col-md-6 p-3",key:t.id},[Object(c["i"])("div",m,[Object(c["i"])("button",{class:"cardImg",style:{backgroundImage:"url(".concat(t.imageUrl,")")},onClick:function(e){return R.toProductDetail(t.id)}},null,12,["onClick"]),Object(c["i"])("div",x,[Object(c["i"])("div",y,Object(c["I"])(t.title),1),Object(c["i"])("div",{class:["cardCategory py-1 h6 rounded-pill",{monster:S.cardType.monsterCard.includes(t.category),spell:S.cardType.spellCard.includes(t.category),trap:S.cardType.trapCard.includes(t.category)}]},Object(c["I"])(t.category),3),Object(c["i"])("div",w,[Object(c["i"])("del",C,"$ "+Object(c["I"])(t.origin_price),1),Object(c["i"])("div",I,"$ "+Object(c["I"])(t.price),1)]),Object(c["i"])("button",{type:"button",class:"btn btn-outline-warning btn-md ml-auto w-100 border border-2 border-warning",onClick:function(e){return R.addCart(t.id)},disabled:S.status.loadingItem===t.id},[S.status.loadingItem===t.id?(Object(c["w"])(),Object(c["e"])("div",k,[E])):Object(c["f"])("",!0),P,$,_],8,["onClick","disabled"])])])])})),128))]),S.pageIsShown?(Object(c["w"])(),Object(c["e"])(N,{key:0,pages:R.pagination,onEmitPages:R.getProductsWithPages},null,8,["pages","onEmitPages"])):Object(c["f"])("",!0)])])])],64)})),R=(a("99af"),a("4de4"),a("ac1f"),a("466d"),a("21c5")),T=a("1799"),N={data:function(){return{status:{loadingItem:""},cardName:"",typeName:"全部",cardType:{monsterCard:["通常怪獸","效果怪獸","融合怪獸"],spellCard:["通常魔法","速攻魔法"],trapCard:["通常陷阱","反擊陷阱"]},qty:1,pageIsShown:!1}},components:{cartModal:R["a"],pagination:T["a"]},inject:["emitter"],methods:{getProducts:function(){this.$store.dispatch("getProducts"),this.pageIsShown=!1},getProductsWithPages:function(t){this.typeName="全部",this.cardName="",this.pageIsShown="true",this.$store.dispatch("getProductsWithPages",t)},toProductDetail:function(t){this.$router.push("/product/".concat(t))},addCart:function(t){var e=this;this.$store.dispatch("updateLoading",!0),this.status.loadingItem=t;var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sly8462","/cart"),c={product_id:t,qty:this.qty};this.$http.post(a,{data:c}).then((function(t){t.data.success&&(e.status.loadingItem="",e.emitter.emit("push-message",{style:"secondary",title:"已將卡片加入牌組"}),e.$store.dispatch("getCart"),e.$store.dispatch("updateLoading",!1))}))},setCard:function(t,e){this.getProducts(),this.typeName=e,this.cardName=t},openModal:function(){var t=this.$refs.cartModal;t.showModal()}},openModal:function(){var t=this.$refs.cartModal;t.showModal()},computed:{filterSearch:function(){var t=this;return this.products.filter((function(e){return e.category.match(t.cardName)}))},isLoading:function(){return this.$store.state.isLoading},products:function(){return this.$store.state.products},pagination:function(){return this.$store.state.pagination},cartNum:function(){return void 0===this.$store.state.cart.carts?0:this.$store.state.cart.carts.length}},created:function(){this.getProductsWithPages()}};a("d2e7");N.render=S,N.__scopeId="data-v-79f68d4a";e["default"]=N}}]);
//# sourceMappingURL=chunk-a5565042.6c61adce.js.map