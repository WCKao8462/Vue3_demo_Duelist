(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46787d68"],{"14c3":function(t,e,c){var a=c("c6b6"),n=c("9263");t.exports=function(t,e){var c=t.exec;if("function"===typeof c){var i=c.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},1799:function(t,e,c){"use strict";var a=c("7a23"),n=Object(a["T"])("data-v-10d63568");Object(a["z"])("data-v-10d63568");var i={"aria-label":"Page navigation example"},r={key:0,class:"pagination justify-content-center mb-5"},s={class:"page-item"},o=Object(a["i"])("span",{"aria-hidden":"true"},"上一頁",-1),l={class:"page-item",disabled:""},u=Object(a["i"])("span",{"aria-hidden":"true"},"下一頁",-1);Object(a["x"])();var d=n((function(t,e,c,n,d,b){return Object(a["w"])(),Object(a["e"])("nav",i,[c.pages.total_pages>1?(Object(a["w"])(),Object(a["e"])("ul",r,[Object(a["i"])("li",s,[Object(a["i"])("button",{class:["page-link fs-4",{"text-white text-decoration-line-through":!c.pages.has_pre}],"aria-label":"Prev",onClick:e[1]||(e[1]=Object(a["S"])((function(t){return b.updatePage(c.pages.current_page-1)}),["prevent"])),disabled:!c.pages.has_pre},[o],10,["disabled"])]),(Object(a["w"])(!0),Object(a["e"])(a["a"],null,Object(a["D"])(c.pages.total_pages,(function(t){return Object(a["w"])(),Object(a["e"])("li",{class:["page-item",{active:t===c.pages.current_page}],key:t},[Object(a["i"])("button",{class:"page-link fs-4",onClick:Object(a["S"])((function(e){return b.updatePage(t)}),["prevent"])},Object(a["I"])(t),9,["onClick"])],2)})),128)),Object(a["i"])("li",l,[Object(a["i"])("button",{class:["page-link fs-4",{"text-white text-decoration-line-through":!c.pages.has_next}],"aria-label":"Next",onClick:e[2]||(e[2]=Object(a["S"])((function(t){return b.updatePage(c.pages.current_page+1)}),["prevent"])),disabled:!c.pages.has_next},[u],10,["disabled"])])])):Object(a["f"])("",!0)])})),b={props:["pages"],methods:{updatePage:function(t){this.$emit("emit-pages",t)}}};c("8295");b.render=d,b.__scopeId="data-v-10d63568";e["a"]=b},2532:function(t,e,c){"use strict";var a=c("23e7"),n=c("5a34"),i=c("1d80"),r=c("ab13");a({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(i(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,c){var a=c("861d"),n=c("c6b6"),i=c("b622"),r=i("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==n(t))}},"466d":function(t,e,c){"use strict";var a=c("d784"),n=c("825a"),i=c("50c4"),r=c("1d80"),s=c("8aa5"),o=c("14c3");a("match",1,(function(t,e,c){return[function(e){var c=r(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,c):new RegExp(e)[t](String(c))},function(t){var a=c(e,t,this);if(a.done)return a.value;var r=n(t),l=String(this);if(!r.global)return o(r,l);var u=r.unicode;r.lastIndex=0;var d,b=[],p=0;while(null!==(d=o(r,l))){var f=String(d[0]);b[p]=f,""===f&&(r.lastIndex=s(l,i(r.lastIndex),u)),p++}return 0===p?null:b}]}))},"4de4":function(t,e,c){"use strict";var a=c("23e7"),n=c("b727").filter,i=c("1dde"),r=i("filter");a({target:"Array",proto:!0,forced:!r},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,c){var a=c("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5b22":function(t,e,c){},"663d":function(t,e,c){"use strict";c("c42c")},6818:function(t,e,c){"use strict";var a=c("7a23"),n=Object(a["T"])("data-v-38868f2f");Object(a["z"])("data-v-38868f2f");var i={class:"d-flex justify-content-end cartBtn"},r={class:"badge rounded-pill bg-secondary"},s={class:"fs-5"};Object(a["x"])();var o=n((function(t,e,c,n,o,l){var u=Object(a["F"])("CartModal");return Object(a["w"])(),Object(a["e"])(a["a"],null,[Object(a["i"])("div",i,[Object(a["i"])("button",{type:"button",class:"btn deck",onClick:e[1]||(e[1]=function(t){return l.openModal()})},[Object(a["i"])("span",r,[Object(a["i"])("div",s,Object(a["I"])(l.cartNum),1)])])]),Object(a["i"])(u,{ref:"cartModal"},null,512)],64)})),l=Object(a["T"])("data-v-6919a408");Object(a["z"])("data-v-6919a408");var u={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal","data-bs-backdrop":"static"},d={class:"modal-dialog mt-5"},b={class:"modal-content"},p=Object(a["i"])("div",{class:"modal-header text-white"},[Object(a["i"])("h5",{class:"modal-title",id:"exampleModalLabel"},"牌組內容"),Object(a["i"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),f={key:0,class:"py-3 w-100 px-5"},O={class:"table text-white"},h=Object(a["i"])("thead",{class:"row"},[Object(a["i"])("th",{class:"col-2"}),Object(a["i"])("th",{class:"text-center fw-bold col-4"},"卡名"),Object(a["i"])("th",{class:"text-center fw-bold col-3"},"數量"),Object(a["i"])("th",{class:"text-center fw-bold col-3"},"單價")],-1),j=Object(a["i"])("br",null,null,-1),g={class:"align-middle col-2"},v=Object(a["i"])("i",{class:"bi bi-trash-fill"},null,-1),m={class:"text-center col-4"},x={class:"text-center col-3"},y={class:"text-center col-3"},w=Object(a["i"])("br",null,null,-1),C={class:"text-white"},I={class:"text-end"},k=Object(a["h"])("共 "),E={class:"fw-bolder"},P=Object(a["h"])(" 元"),_=Object(a["i"])("br",null,null,-1),$={class:"d-grid"},T=Object(a["i"])("i",{class:"bi bi-currency-dollar"},null,-1),S=Object(a["h"])(" 結帳"),N={key:1,class:"px-4 py-3 text-white text-center fs-4"};Object(a["x"])();var R=l((function(t,e,c,n,i,r){var s=Object(a["F"])("LoadingCustom");return Object(a["w"])(),Object(a["e"])(a["a"],null,[Object(a["i"])(s,{tempIsLoading:r.isLoading},null,8,["tempIsLoading"]),Object(a["i"])("div",u,[Object(a["i"])("div",d,[Object(a["i"])("div",b,[p,0!==r.cartNum?(Object(a["w"])(),Object(a["e"])("div",f,[Object(a["i"])("table",O,[h,j,Object(a["i"])("tbody",null,[(Object(a["w"])(!0),Object(a["e"])(a["a"],null,Object(a["D"])(r.cart.carts,(function(t){return Object(a["w"])(),Object(a["e"])("tr",{key:t.id,class:"row"},[Object(a["i"])("td",g,[Object(a["i"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return r.removeCart(t.id)}},[v],8,["onClick"])]),Object(a["i"])("td",m,Object(a["I"])(t.product.title),1),Object(a["i"])("td",x,Object(a["I"])(t.qty),1),Object(a["i"])("td",y,Object(a["I"])(t.total)+" 元",1)])})),128))])]),w,Object(a["i"])("div",C,[Object(a["i"])("p",I,[k,Object(a["i"])("span",E,Object(a["I"])(r.cart.total),1),P])]),_,Object(a["i"])("div",$,[Object(a["i"])("button",{type:"button",class:"btn btnCustom","data-bs-dismiss":"modal",onClick:e[1]||(e[1]=function(){return r.toOrder&&r.toOrder.apply(r,arguments)})},[T,S])])])):(Object(a["w"])(),Object(a["e"])("div",N," 您還沒把卡片加入牌組中喔! "))])])],512)],64)})),L=c("db44"),A=c("5c0d"),M={mixins:[L["a"]],components:{LoadingCustom:A["a"]},computed:{isLoading:function(){return this.$store.state.isLoading},cart:function(){return this.$store.state.cart},cartNum:function(){return void 0===this.$store.state.cart.carts?0:this.$store.state.cart.carts.length}},methods:{removeCart:function(t){this.$store.dispatch("removeCart",t)},toOrder:function(){this.$router.push("/order")}}};c("9db5");M.render=R,M.__scopeId="data-v-6919a408";var D=M,U={components:{CartModal:D},computed:{cartNum:function(){return void 0===this.$store.state.cart.carts?0:this.$store.state.cart.carts.length}},methods:{openModal:function(){var t=this.$refs.cartModal;t.showModal()}}};c("975d");U.render=o,U.__scopeId="data-v-38868f2f";e["a"]=U},8295:function(t,e,c){"use strict";c("5b22")},"8aa5":function(t,e,c){"use strict";var a=c("6547").charAt;t.exports=function(t,e,c){return e+(c?a(t,e).length:1)}},9263:function(t,e,c){"use strict";var a=c("ad6d"),n=c("9f7f"),i=c("5692"),r=RegExp.prototype.exec,s=i("native-string-replace",String.prototype.replace),o=r,l=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=n.UNSUPPORTED_Y||n.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],b=l||d||u;b&&(o=function(t){var e,c,n,i,o=this,b=u&&o.sticky,p=a.call(o),f=o.source,O=0,h=t;return b&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),h=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(f="(?: "+f+")",h=" "+h,O++),c=new RegExp("^(?:"+f+")",p)),d&&(c=new RegExp("^"+f+"$(?!\\s)",p)),l&&(e=o.lastIndex),n=r.call(b?c:o,h),b?n?(n.input=n.input.slice(O),n[0]=n[0].slice(O),n.index=o.lastIndex,o.lastIndex+=n[0].length):o.lastIndex=0:l&&n&&(o.lastIndex=o.global?n.index+n[0].length:e),d&&n&&n.length>1&&s.call(n[0],c,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),t.exports=o},"975d":function(t,e,c){"use strict";c("b031")},"9db5":function(t,e,c){"use strict";c("f8b9")},"9f7f":function(t,e,c){"use strict";var a=c("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ab13:function(t,e,c){var a=c("b622"),n=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(c){try{return e[n]=!1,"/./"[t](e)}catch(a){}}return!1}},ac1f:function(t,e,c){"use strict";var a=c("23e7"),n=c("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(t,e,c){"use strict";var a=c("825a");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b031:function(t,e,c){},b727:function(t,e,c){var a=c("0366"),n=c("44ad"),i=c("7b0b"),r=c("50c4"),s=c("65f0"),o=[].push,l=function(t){var e=1==t,c=2==t,l=3==t,u=4==t,d=6==t,b=7==t,p=5==t||d;return function(f,O,h,j){for(var g,v,m=i(f),x=n(m),y=a(O,h,3),w=r(x.length),C=0,I=j||s,k=e?I(f,w):c||b?I(f,0):void 0;w>C;C++)if((p||C in x)&&(g=x[C],v=y(g,C,m),t))if(e)k[C]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return C;case 2:o.call(k,g)}else switch(t){case 4:return!1;case 7:o.call(k,g)}return d?-1:l||u?u:k}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},c42c:function(t,e,c){},caad:function(t,e,c){"use strict";var a=c("23e7"),n=c("4d64").includes,i=c("44d2");a({target:"Array",proto:!0},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},d784:function(t,e,c){"use strict";c("ac1f");var a=c("6eeb"),n=c("9263"),i=c("d039"),r=c("b622"),s=c("9112"),o=r("species"),l=RegExp.prototype,u=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),b=r("replace"),p=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),f=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var c="ab".split(t);return 2!==c.length||"a"!==c[0]||"b"!==c[1]}));t.exports=function(t,e,c,b){var O=r(t),h=!i((function(){var e={};return e[O]=function(){return 7},7!=""[t](e)})),j=h&&!i((function(){var e=!1,c=/a/;return"split"===t&&(c={},c.constructor={},c.constructor[o]=function(){return c},c.flags="",c[O]=/./[O]),c.exec=function(){return e=!0,null},c[O](""),!e}));if(!h||!j||"replace"===t&&(!u||!d||p)||"split"===t&&!f){var g=/./[O],v=c(O,""[t],(function(t,e,c,a,i){var r=e.exec;return r===n||r===l.exec?h&&!i?{done:!0,value:g.call(e,c,a)}:{done:!0,value:t.call(c,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),m=v[0],x=v[1];a(String.prototype,t,m),a(l,O,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}b&&s(l[O],"sham",!0)}},d9cc:function(t,e,c){"use strict";c.r(e);c("caad"),c("2532");var a=c("7a23"),n=Object(a["T"])("data-v-51300d66");Object(a["z"])("data-v-51300d66");var i=Object(a["i"])("div",{class:"productBanner"},null,-1),r={class:"container"},s={class:"row"},o={class:"col-md-3 pt-3 mb-3"},l={class:"w-100 sticky-md-top text-white text-center p-0"},u=Object(a["h"])(" 全部"),d=Object(a["i"])("br",null,null,-1),b=Object(a["h"])(" All "),p=Object(a["h"])(" 怪獸卡"),f=Object(a["i"])("br",null,null,-1),O=Object(a["h"])(" Monster Card "),h=Object(a["h"])(" 魔法卡"),j=Object(a["i"])("br",null,null,-1),g=Object(a["h"])(" Spell Card "),v=Object(a["h"])(" 陷阱卡"),m=Object(a["i"])("br",null,null,-1),x=Object(a["h"])(" Trap Card "),y={class:"col-md-9 pt-3  m-auto"},w={class:"text-white text-center"},C={class:"row mb-5"},I={class:"card h-100 productAnimated"},k={class:"card-body"},E={class:"py-2 h4 text-center fw-bolder"},P={class:"d-flex justify-content-between align-items-baseline py-2 px-3"},_={class:"h6"},$={class:"h5 fw-bolder"},T={key:0,class:"spinner-grow spinner-grow-sm text-danger",role:"status"},S=Object(a["i"])("span",{class:"visually-hidden"},"Loading...",-1),N=Object(a["i"])("i",{class:"fas fa-spinner fa-spin"},null,-1),R=Object(a["i"])("i",{class:"bi bi-file-plus-fill fs-4"},null,-1),L=Object(a["h"])(" 加入牌組 ");Object(a["x"])();var A=n((function(t,e,c,n,A,M){var D=Object(a["F"])("CartBtn"),U=Object(a["F"])("Pagination");return Object(a["w"])(),Object(a["e"])(a["a"],null,[Object(a["i"])(D),i,Object(a["i"])("div",r,[Object(a["i"])("div",s,[Object(a["i"])("div",o,[Object(a["i"])("ul",l,[Object(a["i"])("li",{type:"button",class:["btnTtem my-3",{active:"全部"===A.typeName}],onClick:e[1]||(e[1]=function(){return M.getProductsWithPages&&M.getProductsWithPages.apply(M,arguments)})},[u,d,b],2),Object(a["i"])("li",{type:"button",class:["btnTtem my-3",{active:"怪獸卡"===A.typeName}],onClick:e[2]||(e[2]=function(t){return M.setCard("怪獸","怪獸卡")})},[p,f,O],2),Object(a["i"])("li",{type:"button",class:["btnTtem my-3",{active:"魔法卡"===A.typeName}],onClick:e[3]||(e[3]=function(t){return M.setCard("魔法","魔法卡")})},[h,j,g],2),Object(a["i"])("li",{type:"button",class:["btnTtem my-3",{active:"陷阱卡"===A.typeName}],onClick:e[4]||(e[4]=function(t){return M.setCard("陷阱","陷阱卡")})},[v,m,x],2)])]),Object(a["i"])("div",y,[Object(a["i"])("h2",w,Object(a["I"])(A.typeName),1),Object(a["i"])("div",C,[(Object(a["w"])(!0),Object(a["e"])(a["a"],null,Object(a["D"])(M.filterSearch,(function(t){return Object(a["w"])(),Object(a["e"])("div",{class:"col-lg-4 col-md-6 p-3",key:t.id},[Object(a["i"])("div",I,[Object(a["i"])("button",{type:"button",class:"cardImg",style:{backgroundImage:"url(".concat(t.imageUrl,")")},onClick:function(e){return M.toProductDetail(t.id)}},null,12,["onClick"]),Object(a["i"])("div",k,[Object(a["i"])("div",E,Object(a["I"])(t.title),1),Object(a["i"])("div",{class:["cardCategory py-1 h6 rounded-pill",{monster:A.cardType.monsterCard.includes(t.category),spell:A.cardType.spellCard.includes(t.category),trap:A.cardType.trapCard.includes(t.category)}]},Object(a["I"])(t.category),3),Object(a["i"])("div",P,[Object(a["i"])("del",_,"$ "+Object(a["I"])(t.origin_price),1),Object(a["i"])("div",$,"$ "+Object(a["I"])(t.price),1)]),Object(a["i"])("button",{type:"button",class:"btn btn-md ml-auto w-100 border border-1 btnCustom",onClick:function(e){return M.addCart(t.id)},disabled:A.status.loadingItem===t.id},[A.status.loadingItem===t.id?(Object(a["w"])(),Object(a["e"])("div",T,[S])):Object(a["f"])("",!0),N,R,L],8,["onClick","disabled"])])])])})),128))]),A.pageIsShown?(Object(a["w"])(),Object(a["e"])(U,{key:0,pages:M.pagination,onEmitPages:M.getProductsWithPages},null,8,["pages","onEmitPages"])):Object(a["f"])("",!0)])])])],64)})),M=(c("99af"),c("4de4"),c("ac1f"),c("466d"),c("6818")),D=c("1799"),U={data:function(){return{status:{loadingItem:""},cardName:"",typeName:"全部",cardType:{monsterCard:["通常怪獸","效果怪獸","融合怪獸"],spellCard:["通常魔法","速攻魔法"],trapCard:["通常陷阱","反擊陷阱"]},qty:1,pageIsShown:!1}},components:{CartBtn:M["a"],Pagination:D["a"]},inject:["emitter"],methods:{getProducts:function(){this.$store.dispatch("getProducts"),this.pageIsShown=!1},getProductsWithPages:function(t){this.typeName="全部",this.cardName="",this.pageIsShown="true",this.$store.dispatch("getProductsWithPages",t)},toProductDetail:function(t){this.$router.push("/product/".concat(t)),document.documentElement.scrollTop=0},addCart:function(t){var e=this;this.$store.dispatch("updateLoading",!0),this.status.loadingItem=t;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sly8462","/cart"),a={product_id:t,qty:this.qty};this.$http.post(c,{data:a}).then((function(t){t.data.success&&(e.status.loadingItem="",e.emitter.emit("push-message",{style:"secondary",title:"已將卡片加入牌組"}),e.$store.dispatch("getCart"),e.$store.dispatch("updateLoading",!1))}))},setCard:function(t,e){this.getProducts(),this.typeName=e,this.cardName=t}},computed:{filterSearch:function(){var t=this;return this.products.filter((function(e){return e.category.match(t.cardName)}))},isLoading:function(){return this.$store.state.isLoading},products:function(){return this.$store.state.products},pagination:function(){return this.$store.state.pagination}},created:function(){this.getProductsWithPages()}};c("663d");U.render=A,U.__scopeId="data-v-51300d66";e["default"]=U},f8b9:function(t,e,c){}}]);
//# sourceMappingURL=chunk-46787d68.97ea9844.js.map