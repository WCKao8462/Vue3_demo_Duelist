{"version":3,"sources":["webpack:///./src/views/back/Orders.vue","webpack:///./src/views/back/Orders.vue?2aa4","webpack:///./src/components/back/DelModal.vue","webpack:///./src/components/back/DelModal.vue?ed2d"],"names":["class","style","width","active","isLoading","orders","item","key","id","dateTransform","create_at","total","is_paid","paid_date","delModal","ref","deleteOrder","data","isDelete","deletedID","components","methods","getOrders","api","this","$http","get","then","res","success","time","d","Date","toLocaleString","orderComponent","$refs","showModal","delete","hideModal","alert","created","render","tabindex","aria-labelledby","aria-hidden","data-bs-backdrop","type","data-bs-dismiss","aria-label","comfirmDel","mixins","modal","$emit"],"mappings":"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","file":"js/chunk-091e9398.0e143500.js","sourcesContent":["<template>\r\n  <loading :active=\"isLoading\"></loading>\r\n  <table class=\"table mt-4 text-white m-auto mb-5\" style=\"max-width: 1140px\">\r\n    <thead>\r\n      <tr>\r\n        <th width=\"150\">訂單id</th>\r\n        <th width=\"200\">建立時間</th>\r\n        <th width=\"150\">訂單金額</th>\r\n        <th width=\"150\">是否付款</th>\r\n        <td width=\"200\">付款時間</td>\r\n        <th width=\"150\">查看詳細內容</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"item in orders\" :key=\"item.id\">\r\n        <td>{{ item.id }}</td>\r\n        <td>{{ dateTransform(item.create_at) }}</td>\r\n        <td>{{ item.total }}</td>\r\n        <td>\r\n          <span class=\"text-success\" v-if=\"item.is_paid\">付款完成</span>\r\n          <span class=\"text-danger\" v-else>尚未付款</span>\r\n        </td>\r\n        <td>\r\n          <span v-if=\"item.paid_date\">\r\n            {{ dateTransform(item.paid_date) }}\r\n          </span>\r\n          <span v-else></span>\r\n        </td>\r\n        <td>\r\n          <div class=\"btn-group\">\r\n            <button class=\"btn btn-outline-primary btn-sm\">\r\n              詳細資料\r\n            </button>\r\n            <button class=\"btn btn-outline-danger btn-sm\" @click=\"delModal(item.id)\">\r\n              刪除訂單\r\n            </button>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  <delModal ref=\"delModal\" @delete-item=\"deleteOrder\"></delModal>\r\n</template>\r\n\r\n<script>\r\nimport delModal from '../../components/back/DelModal.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      orders: {},\r\n      isLoading: false,\r\n      isDelete: false,\r\n      deletedID: ''\r\n    }\r\n  },\r\n  components: {\r\n    delModal\r\n  },\r\n  methods: {\r\n    getOrders () {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders`\r\n      this.isLoading = true\r\n      this.$http.get(api).then((res) => {\r\n        if (res.data.success) {\r\n          this.orders = res.data.orders\r\n          this.isLoading = false\r\n        }\r\n      })\r\n    },\r\n    dateTransform (time) {\r\n      const d = new Date(time * 1000).toLocaleString()\r\n      return d\r\n    },\r\n    delModal (id) {\r\n      this.deletedID = id\r\n      const orderComponent = this.$refs.delModal\r\n      orderComponent.showModal()\r\n    },\r\n    deleteOrder (isDelete) {\r\n      this.isDelete = isDelete\r\n      const orderComponent = this.$refs.delModal\r\n      this.isLoading = true\r\n      if (this.isDelete) {\r\n        const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${this.deletedID}`\r\n        this.$http.delete(api).then((res) => {\r\n          orderComponent.hideModal()\r\n          this.isDelete = false\r\n          this.deletedID = ''\r\n          this.getOrders()\r\n          alert('刪除成功')\r\n        })\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getOrders()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Orders.vue?vue&type=template&id=107c368f\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\" data-bs-backdrop=\"static\">\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">!!!注意!!!您準備刪除該物品</h5>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          確定要刪除該物品嗎?????\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\">\r\n            取消\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-danger\" @click=\"comfirmDel\">確定</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '@/mixins/ModalMixin'\r\n\r\nexport default {\r\n  mixins: [modalMixin],\r\n  data () {\r\n    return {\r\n      modal: {},\r\n      isDelete: true\r\n    }\r\n  },\r\n  methods: {\r\n    comfirmDel () {\r\n      this.$emit('delete-item', this.isDelete)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./DelModal.vue?vue&type=template&id=558e4cbb\"\nimport script from \"./DelModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}