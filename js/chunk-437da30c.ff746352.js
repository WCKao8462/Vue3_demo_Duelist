(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-437da30c"],{"0d5f":function(t,e,a){"use strict";a.r(e);var c=a("7a23"),i=Object(c["T"])("data-v-d4721ce4");Object(c["z"])("data-v-d4721ce4");var n={class:"container my-3"},d={class:"table mt-4 text-white m-auto mb-5 text-center",style:{"min-width":"800px"}},s=Object(c["i"])("thead",null,[Object(c["i"])("tr",{class:"fs-5 text-info py-4"},[Object(c["i"])("th",{width:"200",class:"py-4"},"訂單ID"),Object(c["i"])("th",{width:"200",class:"py-4"},"建立時間"),Object(c["i"])("th",{width:"100",class:"py-4"},"訂單金額"),Object(c["i"])("th",{width:"100",class:"py-4"},"是否付款"),Object(c["i"])("td",{width:"200",class:"py-4"},"付款時間"),Object(c["i"])("th",{width:"200",class:"py-4"},"查看詳細內容")])],-1),l={class:"py-3"},o={class:"py-3"},r={class:"py-3"},b={class:"py-3"},O={key:0,class:"text-success"},j={key:1,class:"text-danger"},u={class:"py-3"},p={key:0},h={key:1},m={class:"py-3"},f={class:"btn-group"};Object(c["x"])();var g=i((function(t,e,a,i,g,y){var w=Object(c["F"])("LoadingCustom"),x=Object(c["F"])("Pagination"),v=Object(c["F"])("OrderModal"),M=Object(c["F"])("DelModal");return Object(c["w"])(),Object(c["e"])(c["a"],null,[Object(c["i"])(w,{tempIsLoading:y.isLoading},null,8,["tempIsLoading"]),Object(c["i"])("div",n,[Object(c["i"])("table",d,[s,Object(c["i"])("tbody",null,[(Object(c["w"])(!0),Object(c["e"])(c["a"],null,Object(c["D"])(y.ordersAdmin,(function(t){return Object(c["w"])(),Object(c["e"])("tr",{key:t.id},[Object(c["i"])("td",l,Object(c["I"])(t.id),1),Object(c["i"])("td",o,Object(c["I"])(y.dateTransform(t.create_at)),1),Object(c["i"])("td",r,Object(c["I"])(t.total),1),Object(c["i"])("td",b,[t.is_paid?(Object(c["w"])(),Object(c["e"])("span",O,"付款完成")):(Object(c["w"])(),Object(c["e"])("span",j,"尚未付款"))]),Object(c["i"])("td",u,[t.paid_date?(Object(c["w"])(),Object(c["e"])("span",p,Object(c["I"])(y.dateTransform(t.paid_date)),1)):(Object(c["w"])(),Object(c["e"])("span",h))]),Object(c["i"])("td",m,[Object(c["i"])("div",f,[Object(c["i"])("button",{type:"button",class:"btn btn-outline-primary btn-md mx-2",onClick:function(e){return y.openModal(t)}}," 詳細資料 ",8,["onClick"]),Object(c["i"])("button",{type:"button",class:"btn btn-outline-danger btn-md mx-2",onClick:function(e){return y.delModal(t.id)}}," 刪除訂單 ",8,["onClick"])])])])})),128))])]),Object(c["i"])(x,{pages:y.pagination,onEmitPages:y.getOrders},null,8,["pages","onEmitPages"])]),Object(c["i"])(v,{ref:"orderModal",order:g.tempOrder},null,8,["order"]),Object(c["i"])(M,{ref:"delModal",onDeleteItem:y.deleteOrder},null,8,["onDeleteItem"])],64)})),y=a("5530"),w=(a("99af"),a("5c0d")),x={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},v={class:"modal-dialog modal-md",role:"document"},M={class:"modal-content border-0"},I=Object(c["i"])("div",{class:"modal-header bg-dark text-white"},[Object(c["i"])("h5",{class:"modal-title",id:"exampleModalLabel"},[Object(c["i"])("span",null,"訂單資料")]),Object(c["i"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),D={class:"table text-center mt-5"},k=Object(c["i"])("thead",{class:"mb-4 p-2 fs-4"},[Object(c["i"])("th",{class:"text-info p-2"},"品名"),Object(c["i"])("th",{class:"text-info p-2"},"數量"),Object(c["i"])("th",{class:"text-info p-2"},"單價")],-1),L=Object(c["i"])("br",null,null,-1),$=Object(c["i"])("td",{colspan:"2",class:"text-center text-warning h4 p-2"},"總計",-1),C={class:"text-center text-warning h4 p-2"};function _(t,e,a,i,n,d){return Object(c["w"])(),Object(c["e"])("div",x,[Object(c["i"])("div",v,[Object(c["i"])("div",M,[I,Object(c["i"])("table",D,[k,Object(c["i"])("tbody",null,[(Object(c["w"])(!0),Object(c["e"])(c["a"],null,Object(c["D"])(a.order.products,(function(t){return Object(c["w"])(),Object(c["e"])("tr",{key:t.id},[Object(c["i"])("td",null,Object(c["I"])(t.product.title),1),Object(c["i"])("td",null,Object(c["I"])(t.qty),1),Object(c["i"])("td",null,Object(c["I"])(t.final_total),1)])})),128))]),L,Object(c["i"])("tfoot",null,[Object(c["i"])("tr",null,[$,Object(c["i"])("td",C,Object(c["I"])(a.order.total),1)])])])])])],512)}var A=a("db44"),F={data:function(){return{modal:{}}},props:{order:{type:Object,default:function(){return{}}}},mixins:[A["a"]]};F.render=_;var P=F,T=a("590b"),E=a("1799"),J={data:function(){return{isDelete:!1,deletedID:"",tempOrder:{}}},components:{LoadingCustom:w["a"],OrderModal:P,DelModal:T["a"],Pagination:E["a"]},computed:{isLoading:function(){return this.$store.state.isLoading},ordersAdmin:function(){return this.$store.state.ordersAdmin},pagination:function(){return this.$store.state.pagination}},methods:{getOrders:function(t){this.$store.dispatch("getOrdersAdmin",t)},dateTransform:function(t){var e=new Date(1e3*t).toLocaleString();return e},openModal:function(t){this.tempOrder=Object(y["a"])({},t);var e=this.$refs.orderModal;e.showModal()},delModal:function(t){this.deletedID=t;var e=this.$refs.delModal;e.showModal()},deleteOrder:function(t){var e=this;this.isDelete=t,this.$store.dispatch("updateLoading",!0);var a=this.$refs.delModal;if(this.isDelete){var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sly8462","/admin/order/").concat(this.deletedID);this.$http.delete(c).then((function(t){a.hideModal(),e.isDelete=!1,e.deletedID="",e.getOrders(),e.$store.dispatch("receiveMessage",{style:"success",title:"刪除成功",content:t.data.message})}))}this.$store.dispatch("updateLoading",!1)}},created:function(){this.getOrders()}};a("69ea");J.render=g,J.__scopeId="data-v-d4721ce4";e["default"]=J},"5e90":function(t,e,a){},"69ea":function(t,e,a){"use strict";a("5e90")}}]);
//# sourceMappingURL=chunk-437da30c.ff746352.js.map