(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bacf108"],{"3aa8":function(t,e,c){"use strict";c.d(e,"a",(function(){return a})),c.d(e,"b",(function(){return r})),c.d(e,"c",(function(){return s}));function n(t,e){return Array.isArray(t)?t[0]:t[e]}const a=t=>{const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(t)?t.every(t=>e.test(String(t))):e.test(String(t))};function i(t){return null===t||void 0===t}function o(t){return Array.isArray(t)&&0===t.length}const r=(t,e)=>{const c=n(e,"length");return!i(t)&&(Array.isArray(t)?t.every(t=>r(t,{length:c})):String(t).length>=Number(c))},s=t=>!i(t)&&!o(t)&&!1!==t&&!!String(t).trim().length},4015:function(t,e,c){"use strict";c.r(e);var n=c("7a23"),a=c("84c6"),i=c.n(a),o=Object(n["T"])("data-v-4f6a1972");Object(n["z"])("data-v-4f6a1972");var r={key:0,class:"container my-5"},s=Object(n["i"])("h3",{class:"text-center text-white my-4"},"牌組清單",-1),l={class:"productList ps-3 pe-3 mt-3 mx-auto",style:{"max-width":"960px"}},u={class:"mx-2 w-100"},d={key:0,class:"text-warning"},b={class:"row align-items-center"},p={class:"col-sm-2 text-center"},m={class:"col-sm-2 col-7 mx-auto"},h={class:"h5 card-title text-center my-auto"},j={class:"col-sm-3 col-5"},O={key:1,class:"h5 text-warning my-auto py-2 text-center"},f={class:"col-sm-3 col-8"},g={class:"input-group input-group-sm my-1 py-2 flex-nowrap px-2 w-100 justify-content-center"},y=Object(n["i"])("i",{class:"bi bi-dash-lg"},null,-1),v=Object(n["i"])("i",{class:"bi bi-plus-lg"},null,-1),x={class:"col-sm-2 col-4 text-center"},w=Object(n["i"])("i",{class:"bi bi-trash-fill fs-6"},null,-1),C={class:"m-auto my-0",style:{"max-width":"600px"}},k={key:1,class:"text-warning text-end h4 py-2"},$={class:"input-group input-group-sm m-auto py-4",style:{"max-width":"600px"}},I={class:"input-group-append"},L={class:"row"},_={class:"col-sm-6 text-center"},A=Object(n["i"])("i",{class:"bi bi-arrow-left-square-fill"},null,-1),q=Object(n["h"])(" 繼續選購"),P={class:"col-sm-6 text-center"},U=Object(n["h"])("確認訂單 "),S=Object(n["i"])("i",{class:"bi bi-arrow-right-square-fill"},null,-1),z={key:1},T={class:"m-auto mt-5 mb-2 bg-dark text-white text-center",style:{"max-width":"400px"}},M=Object(n["i"])("div",{class:"h2 p-2 text-primary fw-bolder"},"牌抽光了???",-1),N=Object(n["i"])("img",{src:i.a,class:"p-3 mb-3",alt:"購物車沒東西"},null,-1),J=Object(n["i"])("div",{class:"h4 p-2 text-primary"},[Object(n["i"])("p",null,"沒有卡片怎麼成為決鬥者呢??"),Object(n["i"])("p",null,"快回去選購吧!!")],-1),V=Object(n["h"])("我要買牌 "),D=Object(n["i"])("i",{class:"bi bi-basket2-fill"},null,-1);Object(n["x"])();var E=o((function(t,e,c,a,i,o){var E=Object(n["F"])("LoadingCustom");return Object(n["w"])(),Object(n["e"])(n["a"],null,[Object(n["i"])(E,{tempIsLoading:o.isLoading},null,8,["tempIsLoading"]),0!==o.cartNum?(Object(n["w"])(),Object(n["e"])("div",r,[s,Object(n["i"])("div",l,[Object(n["i"])("div",u,[o.cart.final_total!==o.cart.total?(Object(n["w"])(),Object(n["e"])("p",d,"已套用優惠卷，若有重新選購請再重新輸入優惠碼")):Object(n["f"])("",!0),(Object(n["w"])(!0),Object(n["e"])(n["a"],null,Object(n["D"])(o.carts,(function(t){return Object(n["w"])(),Object(n["e"])("div",{class:"card mb-4 text-white m-auto border-primary",style:{"background-color":"#000"},key:t.id},[Object(n["i"])("div",b,[Object(n["i"])("div",p,[Object(n["i"])("div",{style:{backgroundImage:"url(".concat(t.product.imageUrl,")")},class:"cartImg mx-auto text-center d-none d-sm-block"},null,4)]),Object(n["i"])("div",m,[Object(n["i"])("p",h,Object(n["I"])(t.product.title),1)]),Object(n["i"])("div",j,[t.final_total===t.total?(Object(n["w"])(),Object(n["e"])("p",{key:0,class:["h5 my-auto mx-3 py-2 text-center",{"text-decoration-line-through":t.final_total!==t.total}]},"$ "+Object(n["I"])(t.total),3)):(Object(n["w"])(),Object(n["e"])("p",O,"$ "+Object(n["I"])(t.final_total),1))]),Object(n["i"])("div",f,[Object(n["i"])("div",g,[Object(n["i"])("button",{type:"button",class:"input-group-text bg-primary text-dark border-white",onClick:function(e){return o.handleSub(t,t.qty)}},[y],8,["onClick"]),Object(n["R"])(Object(n["i"])("input",{size:"2",type:"number",class:"numText text-center",min:"0",max:"99","onUpdate:modelValue":function(e){return t.qty=e},onChange:function(e){return o.updateCart(t,t.qty)},disabled:""},null,40,["onUpdate:modelValue","onChange"]),[[n["M"],t.qty,void 0,{number:!0}]]),Object(n["i"])("button",{type:"button",class:"input-group-text bg-primary text-dark border-white",onClick:function(e){return o.handlePlus(t,t.qty)}},[v],8,["onClick"])])]),Object(n["i"])("div",x,[Object(n["i"])("button",{type:"button",class:"btn btn-outline-danger btn-md m-3",onClick:function(e){return o.removeCart(t.id,t.product.title)}},[w],8,["onClick"])])])])})),128)),Object(n["i"])("div",C,[o.cart.final_total===o.cart.total?(Object(n["w"])(),Object(n["e"])("p",{key:0,class:["text-white text-end h4 py-2",{"text-decoration-line-through":o.cart.final_total!==o.cart.total}]},"總計 $ "+Object(n["I"])(o.cart.total),3)):(Object(n["w"])(),Object(n["e"])("p",k,"折扣價 $ "+Object(n["I"])(o.cart.final_total),1))]),Object(n["i"])("div",$,[Object(n["R"])(Object(n["i"])("input",{type:"text",class:"form-control text-white",placeholder:"請輸入優惠碼",style:{"background-color":"#000"},"onUpdate:modelValue":e[1]||(e[1]=function(t){return i.couponCode=t})},null,512),[[n["M"],i.couponCode]]),Object(n["i"])("div",I,[Object(n["i"])("button",{type:"button",class:"btn btn-outline-light btn-md",onClick:e[2]||(e[2]=function(){return o.addCouponCode&&o.addCouponCode.apply(o,arguments)})}," 套用優惠碼 ")])])])]),Object(n["i"])("div",L,[Object(n["i"])("div",_,[Object(n["i"])("button",{type:"button",class:"btn btn-outline-light btn-lg fs-4 border-5 fw-bolder my-2",onClick:e[3]||(e[3]=function(){return o.toProducts&&o.toProducts.apply(o,arguments)})},[A,q])]),Object(n["i"])("div",P,[Object(n["i"])("button",{type:"button",class:"btn btnCustom fs-4 fw-bolder border-5 btn-lg my-2",onClick:e[4]||(e[4]=function(){return o.toUserInformation&&o.toUserInformation.apply(o,arguments)})},[U,S])])])])):(Object(n["w"])(),Object(n["e"])("section",z,[Object(n["i"])("div",T,[M,N,J,Object(n["i"])("button",{type:"button",class:"d-block mx-auto btn btn-outline-light btn-lg fs-4 border-5 fw-bolder",onClick:e[5]||(e[5]=function(){return o.toProducts&&o.toProducts.apply(o,arguments)})},[V,D])])]))],64)})),F=(c("99af"),c("7bb1")),R=c("3aa8"),Z=c("5c0d");Object(F["d"])("required",R["c"]),Object(F["d"])("email",R["a"]),Object(F["d"])("min",R["b"]);var B={data:function(){return{status:{loadingItem:""},couponCode:"",form:{user:{email:"",name:"",address:"",tel:""},message:""}}},components:{LoadingCustom:Z["a"]},computed:{isLoading:function(){return this.$store.state.isLoading},cart:function(){return this.$store.state.cart},carts:function(){return this.$store.state.cart.carts},cartNum:function(){return void 0===this.$store.state.cart.carts?0:this.$store.state.cart.carts.length}},methods:{getCart:function(){this.$store.dispatch("getCart")},removeCart:function(t,e){var c={id:t,title:e};this.$store.dispatch("removeCart",c)},updateCart:function(t,e){var c=this;this.$store.dispatch("updateLoading",!0),this.status.loadingItem=t.id;var n="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sly8462","/cart/").concat(t.id),a={product_id:t.id,qty:e};this.$http.put(n,{data:a}).then((function(t){c.getCart(),c.status.loadingItem="",c.$store.dispatch("updateLoading",!1)}))},addCouponCode:function(){var t=this;this.$store.dispatch("updateLoading",!0);var e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sly8462","/coupon"),c={code:this.couponCode};this.$http.post(e,{data:c}).then((function(e){e.data.success?(t.$store.dispatch("receiveMessage",{style:"success",title:"已套用優惠券"}),t.getCart()):t.$store.dispatch("receiveMessage",{style:"danger",title:"優惠券套用失敗",content:"您的優惠券代碼無效"}),t.$store.dispatch("updateLoading",!1)}))},handlePlus:function(t,e){var c=e;c<99&&(c++,this.updateCart(t,c))},handleSub:function(t,e){var c=e;c>1&&(c--,this.updateCart(t,c))},toUserInformation:function(){this.$router.push("/information"),document.documentElement.scrollTop=0},toProducts:function(){this.$router.push("/product"),document.documentElement.scrollTop=0}},created:function(){this.getCart()}};c("ac41");B.render=E,B.__scopeId="data-v-4f6a1972";e["default"]=B},"5c0d":function(t,e,c){"use strict";var n=c("7a23"),a=Object(n["T"])("data-v-034b20bd");Object(n["z"])("data-v-034b20bd");var i=Object(n["i"])("div",{class:"circle"},null,-1),o=Object(n["i"])("p",{class:"loading fw-bolder text-white fs-3"},"LOADING",-1);Object(n["x"])();var r=a((function(t,e,c,r,s,l){var u=Object(n["F"])("loading");return Object(n["w"])(),Object(n["e"])(u,{active:c.tempIsLoading,class:"text-center loading"},{default:a((function(){return[i,o]})),_:1},8,["active"])})),s={props:{tempIsLoading:{type:Boolean,default:function(){return!1}}}};c("b128");s.render=r,s.__scopeId="data-v-034b20bd";e["a"]=s},8233:function(t,e,c){},"84c6":function(t,e,c){t.exports=c.p+"img/Joey.328b60a1.png"},ac41:function(t,e,c){"use strict";c("cbca")},b128:function(t,e,c){"use strict";c("8233")},cbca:function(t,e,c){}}]);
//# sourceMappingURL=chunk-6bacf108.1edd6c5d.js.map