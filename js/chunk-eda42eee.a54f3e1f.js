(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eda42eee"],{"39a8":function(e,t,c){"use strict";c("d7d6")},"3aa8":function(e,t,c){"use strict";c.d(t,"a",(function(){return i})),c.d(t,"b",(function(){return n})),c.d(t,"c",(function(){return s}));function r(e,t){return Array.isArray(e)?e[0]:e[t]}const i=e=>{const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(e=>t.test(String(e))):t.test(String(e))};function a(e){return null===e||void 0===e}function l(e){return Array.isArray(e)&&0===e.length}const n=(e,t)=>{const c=r(t,"length");return!a(e)&&(Array.isArray(e)?e.every(e=>n(e,{length:c})):String(e).length>=Number(c))},s=e=>!a(e)&&!l(e)&&!1!==e&&!!String(e).trim().length},"5c0d":function(e,t,c){"use strict";var r=c("7a23"),i=Object(r["T"])("data-v-034b20bd");Object(r["z"])("data-v-034b20bd");var a=Object(r["i"])("div",{class:"circle"},null,-1),l=Object(r["i"])("p",{class:"loading fw-bolder text-white fs-3"},"LOADING",-1);Object(r["x"])();var n=i((function(e,t,c,n,s,o){var b=Object(r["F"])("loading");return Object(r["w"])(),Object(r["e"])(b,{active:c.tempIsLoading,class:"text-center loading"},{default:i((function(){return[a,l]})),_:1},8,["active"])})),s={props:{tempIsLoading:{type:Boolean,default:function(){return!1}}}};c("b128");s.render=n,s.__scopeId="data-v-034b20bd";t["a"]=s},8233:function(e,t,c){},b0c0:function(e,t,c){var r=c("83ab"),i=c("9bf2").f,a=Function.prototype,l=a.toString,n=/^\s*function ([^ (]*)/,s="name";r&&!(s in a)&&i(a,s,{configurable:!0,get:function(){try{return l.call(this).match(n)[1]}catch(e){return""}}})},b128:function(e,t,c){"use strict";c("8233")},b481:function(e,t,c){"use strict";c.r(t);c("b0c0");var r=c("7a23"),i=Object(r["T"])("data-v-96982952");Object(r["z"])("data-v-96982952");var a={class:"container my-5"},l=Object(r["i"])("div",{class:"row text-center"},[Object(r["i"])("div",{class:"col-md-4"},[Object(r["i"])("div",{class:"alert bg-primary alert-rounded mx-4 fw-bolder",role:"alert"},[Object(r["i"])("i",{class:"bi bi-menu-button-wide-fill"}),Object(r["h"])(" 1.填寫資料")])]),Object(r["i"])("div",{class:"col-md-4"},[Object(r["i"])("div",{class:"alert bg-dark alert-rounded text-primary mx-4",role:"alert"},[Object(r["i"])("i",{class:"bi bi-credit-card-2-back"}),Object(r["h"])(" 2.付款")])]),Object(r["i"])("div",{class:"col-md-4"},[Object(r["i"])("div",{class:"alert bg-dark alert-rounded text-primary mx-4",role:"alert"},[Object(r["i"])("i",{class:"bi bi-file-check-fill"}),Object(r["h"])(" 3.完成訂單")])])],-1),n={class:"row"},s={class:"buyer p-3"},o=Object(r["i"])("h3",{class:"text-center text-white"},"商品明細",-1),b=Object(r["i"])("br",null,null,-1),u={class:"table text-white text-center"},d=Object(r["i"])("thead",{class:"mb-4 p-2 bg-primary text-dark fs-5"},[Object(r["i"])("th",{class:"fw-bolder p-2"},"品名"),Object(r["i"])("th",{class:"fw-bolder p-2"},"數量"),Object(r["i"])("th",{class:"fw-bolder p-2"},"價格")],-1),m=Object(r["i"])("br",null,null,-1),O=Object(r["i"])("td",{colspan:"2",class:"text-center h4 p-2"},"總計",-1),j={class:"text-center h4 p-2"},f={class:"text-white ps-5 pe-5 mx-auto mt-5",style:{"max-width":"800px"}},p=Object(r["i"])("h3",{class:"text-center"},"聯絡人資訊",-1),h={class:"form-group my-2"},g=Object(r["i"])("label",{for:"useremail"},[Object(r["i"])("i",{class:"bi bi-envelope-fill"}),Object(r["h"])(" 電子郵件 (*必填)")],-1),v=Object(r["i"])("p",{class:"text-warning"},[Object(r["i"])("i",{class:"bi bi-exclamation-circle-fill"}),Object(r["h"])(" 電子郵件格式不符")],-1),x={class:"form-group my-2"},y=Object(r["i"])("label",{for:"username"},[Object(r["i"])("i",{class:"bi bi-person-fill"}),Object(r["h"])(" 收件人姓名 (*必填)")],-1),w=Object(r["i"])("p",{class:"text-warning"},[Object(r["i"])("i",{class:"bi bi-exclamation-circle-fill"}),Object(r["h"])(" 姓名欄位不得為空")],-1),V={class:"form-group my-2"},I=Object(r["i"])("label",{for:"userphone"},[Object(r["i"])("i",{class:"bi bi-telephone-fill"}),Object(r["h"])(" 收件人電話 (*必填)")],-1),L=Object(r["i"])("p",{class:"text-warning"},[Object(r["i"])("i",{class:"bi bi-exclamation-circle-fill"}),Object(r["h"])(" 需要正確的電話號碼")],-1),$={class:"form-group my-2"},_=Object(r["i"])("label",{for:"useraddress"},[Object(r["i"])("i",{class:"bi bi-house-door-fill"}),Object(r["h"])(" 收件人地址 (*必填)")],-1),k=Object(r["i"])("p",{class:"text-warning"},[Object(r["i"])("i",{class:"bi bi-exclamation-circle-fill"}),Object(r["h"])(" 地址欄位不得為空")],-1),A={class:"form-group"},q=Object(r["i"])("label",{for:"comment"},[Object(r["i"])("i",{class:"bi bi-chat-square-text"}),Object(r["h"])(" 留言")],-1),C=Object(r["i"])("br",null,null,-1),S={class:"row"},F={class:"col-sm-6 text-center"},P=Object(r["i"])("i",{class:"bi bi-arrow-left-square-fill"},null,-1),U=Object(r["h"])(" 回上一頁"),z=Object(r["i"])("div",{class:"col-sm-6 text-center"},[Object(r["i"])("button",{type:"submit",class:"btn btnCustom fs-4 fw-bolder border-5 btn-lg my-2"},[Object(r["h"])("送出訂單 "),Object(r["i"])("i",{class:"bi bi-arrow-right-square-fill"})])],-1);Object(r["x"])();var R=i((function(e,t,c,R,T,D){var E=Object(r["F"])("LoadingCustom"),J=Object(r["F"])("vfield"),N=Object(r["F"])("error-message"),Z=Object(r["F"])("vform");return Object(r["w"])(),Object(r["e"])(r["a"],null,[Object(r["i"])(E,{tempIsLoading:D.isLoading},null,8,["tempIsLoading"]),Object(r["i"])("div",a,[l,Object(r["i"])("div",n,[Object(r["i"])("div",s,[o,b,Object(r["i"])("table",u,[d,Object(r["i"])("tbody",null,[(Object(r["w"])(!0),Object(r["e"])(r["a"],null,Object(r["D"])(D.carts,(function(e){return Object(r["w"])(),Object(r["e"])("tr",{key:e.id},[Object(r["i"])("td",null,Object(r["I"])(e.product.title),1),Object(r["i"])("td",null,Object(r["I"])(e.qty),1),Object(r["i"])("td",null,Object(r["I"])(e.final_total),1)])})),128))]),m,Object(r["i"])("tfoot",null,[Object(r["i"])("tr",null,[O,Object(r["i"])("td",j,"$"+Object(r["I"])(D.cart.final_total),1)])])])]),Object(r["i"])("div",f,[Object(r["i"])(Z,{class:"mt-3",onSubmit:D.createdOrder},{default:i((function(e){var c=e.errors;return[p,Object(r["i"])("div",h,[g,Object(r["i"])(J,{type:"email",class:["form-control",{"is-invalid":c.email}],name:"email",id:"useremail",placeholder:"請輸入 Email",rules:"email|required",modelValue:T.form.user.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return T.form.user.email=e})},null,8,["class","modelValue"]),Object(r["i"])(N,{class:"text-danger",name:"email"},{default:i((function(){return[v]})),_:1})]),Object(r["i"])("div",x,[y,Object(r["i"])(J,{type:"text",class:"form-control",name:"name",id:"username",placeholder:"輸入姓名",rules:D.isRequired,modelValue:T.form.user.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return T.form.user.name=e})},null,8,["rules","modelValue"]),Object(r["i"])(N,{class:"text-danger",name:"name"},{default:i((function(){return[w]})),_:1})]),Object(r["i"])("div",V,[I,Object(r["i"])(J,{type:"tel",class:"form-control",name:"tel",id:"tel",placeholder:"請輸入電話",rules:D.isPhone,modelValue:T.form.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return T.form.user.tel=e})},null,8,["rules","modelValue"]),Object(r["i"])(N,{class:"text-danger",name:"tel"},{default:i((function(){return[L]})),_:1})]),Object(r["i"])("div",$,[_,Object(r["i"])(J,{type:"text",class:"form-control",name:"address",id:"useraddress",placeholder:"請輸入地址",rules:D.isRequired,modelValue:T.form.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return T.form.user.address=e})},null,8,["rules","modelValue"]),Object(r["i"])(N,{class:"text-danger",name:"address"},{default:i((function(){return[k]})),_:1})]),Object(r["i"])("div",A,[q,Object(r["R"])(Object(r["i"])("textarea",{name:"",id:"comment",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":t[5]||(t[5]=function(e){return T.form.message=e})},null,512),[[r["M"],T.form.message]])]),C,Object(r["i"])("div",S,[Object(r["i"])("div",F,[Object(r["i"])("button",{type:"button",class:"btn btn-outline-light btn-lg fs-4 border-5 fw-bolder my-2",onClick:t[6]||(t[6]=function(){return D.toPrevious&&D.toPrevious.apply(D,arguments)})},[P,U])]),z])]})),_:1},8,["onSubmit"])])])])],64)})),T=(c("99af"),c("7bb1")),D=c("3aa8"),E=c("5c0d");Object(T["d"])("required",D["c"]),Object(T["d"])("email",D["a"]),Object(T["d"])("min",D["b"]);var J={data:function(){return{form:{user:{email:"",name:"",address:"",tel:""},message:""}}},components:{LoadingCustom:E["a"]},computed:{isLoading:function(){return this.$store.state.isLoading},cart:function(){return this.$store.state.cart},carts:function(){return this.$store.state.cart.carts}},methods:{getCart:function(){this.$store.dispatch("getCart")},isRequired:function(e){return!!e||"message"},isPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"需要正確的電話號碼"},createdOrder:function(){var e=this;this.$store.dispatch("updateLoading",!0);var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sly8462","/order"),c=this.form;this.$http.post(t,{data:c}).then((function(t){e.$store.dispatch("updateLoading",!1),e.$router.push("/checkout/".concat(t.data.orderId))}))},toPrevious:function(){this.$router.push("/order"),document.documentElement.scrollTop=0}},created:function(){this.getCart()}};c("39a8");J.render=R,J.__scopeId="data-v-96982952";t["default"]=J},d7d6:function(e,t,c){}}]);
//# sourceMappingURL=chunk-eda42eee.a54f3e1f.js.map